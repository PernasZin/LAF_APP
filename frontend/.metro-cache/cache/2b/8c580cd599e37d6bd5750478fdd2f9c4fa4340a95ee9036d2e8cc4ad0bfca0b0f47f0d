{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":109},"end":{"line":5,"column":33,"index":142}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":143},"end":{"line":6,"column":69,"index":212}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Auth Store - SINGLE SOURCE OF TRUTH\n   * Controla: isAuthenticated, userId, token, profileCompleted\n   */\n\n  var useAuthStore = (0, _zustand.create)(set => ({\n    isAuthenticated: false,\n    userId: null,\n    token: null,\n    profileCompleted: false,\n    isInitialized: false,\n    initialize: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var token = yield AsyncStorage.default.getItem('token');\n          var userId = yield AsyncStorage.default.getItem('userId');\n          var profileCompleted = yield AsyncStorage.default.getItem('profileCompleted');\n          if (token && userId) {\n            set({\n              isAuthenticated: true,\n              userId,\n              token,\n              profileCompleted: profileCompleted === 'true',\n              isInitialized: true\n            });\n          } else {\n            set({\n              isAuthenticated: false,\n              userId: null,\n              token: null,\n              profileCompleted: false,\n              isInitialized: true\n            });\n          }\n        } catch (error) {\n          set({\n            isAuthenticated: false,\n            userId: null,\n            token: null,\n            profileCompleted: false,\n            isInitialized: true\n          });\n        }\n      });\n      return function initialize() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    login: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (userId, token, profileCompleted) {\n        // IMPORTANTE: Limpar cache de perfil antigo antes de salvar novo login\n        // Isso evita que dados de outro usuário ou dados desatualizados apareçam\n        yield AsyncStorage.default.removeItem('userProfile');\n        yield AsyncStorage.default.setItem('token', token);\n        yield AsyncStorage.default.setItem('userId', userId);\n        yield AsyncStorage.default.setItem('profileCompleted', profileCompleted ? 'true' : 'false');\n        set({\n          isAuthenticated: true,\n          userId,\n          token,\n          profileCompleted\n        });\n      });\n      return function login(_x, _x2, _x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    setProfileCompleted: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (completed) {\n        yield AsyncStorage.default.setItem('profileCompleted', completed ? 'true' : 'false');\n        set({\n          profileCompleted: completed\n        });\n      });\n      return function setProfileCompleted(_x4) {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    logout: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        // Limpa AsyncStorage PRIMEIRO\n        try {\n          yield AsyncStorage.default.clear();\n        } catch (error) {\n          console.error('Error clearing AsyncStorage:', error);\n        }\n        // Depois atualiza o estado\n        set({\n          isAuthenticated: false,\n          userId: null,\n          token: null,\n          profileCompleted: false,\n          isInitialized: true\n        });\n      });\n      return function logout() {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":123,"map":[[12,2,21,0,"Object"],[12,8,21,0],[12,9,21,0,"defineProperty"],[12,23,21,0],[12,24,21,0,"exports"],[12,31,21,0],[13,4,21,0,"enumerable"],[13,14,21,0],[14,4,21,0,"get"],[14,7,21,0],[14,18,21,0,"get"],[14,19,21,0],[15,6,21,0],[15,13,21,0,"useAuthStore"],[15,25,21,0],[16,4,21,0],[17,2,21,0],[18,2,82,4],[18,6,82,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,82,4],[18,45,82,4,"require"],[18,52,82,4],[18,53,82,4,"_dependencyMap"],[18,67,82,4],[19,2,82,4],[19,6,82,4,"_asyncToGenerator"],[19,23,82,4],[19,26,82,4,"_interopDefault"],[19,41,82,4],[19,42,82,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,82,4],[20,2,5,0],[20,6,5,0,"_zustand"],[20,14,5,0],[20,17,5,0,"require"],[20,24,5,0],[20,25,5,0,"_dependencyMap"],[20,39,5,0],[21,2,6,0],[21,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,6,0],[21,45,6,0,"require"],[21,52,6,0],[21,53,6,0,"_dependencyMap"],[21,67,6,0],[22,2,6,0],[22,6,6,0,"AsyncStorage"],[22,18,6,0],[22,21,6,0,"_interopDefault"],[22,36,6,0],[22,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,6,0],[23,2,1,0],[24,0,2,0],[25,0,3,0],[26,0,4,0],[28,2,21,7],[28,6,21,13,"useAuthStore"],[28,18,21,25],[28,21,21,28],[28,25,21,28,"create"],[28,33,21,34],[28,34,21,34,"create"],[28,40,21,34],[28,42,21,47,"set"],[28,45,21,50],[28,50,21,56],[29,4,22,2,"isAuthenticated"],[29,19,22,17],[29,21,22,19],[29,26,22,24],[30,4,23,2,"userId"],[30,10,23,8],[30,12,23,10],[30,16,23,14],[31,4,24,2,"token"],[31,9,24,7],[31,11,24,9],[31,15,24,13],[32,4,25,2,"profileCompleted"],[32,20,25,18],[32,22,25,20],[32,27,25,25],[33,4,26,2,"isInitialized"],[33,17,26,15],[33,19,26,17],[33,24,26,22],[34,4,28,2,"initialize"],[34,14,28,12],[35,6,28,12],[35,10,28,12,"_ref"],[35,14,28,12],[35,21,28,12,"_asyncToGenerator"],[35,38,28,12],[35,39,28,12,"default"],[35,46,28,12],[35,48,28,14],[35,61,28,26],[36,8,29,4],[36,12,29,8],[37,10,30,6],[37,14,30,12,"token"],[37,19,30,17],[37,28,30,26,"AsyncStorage"],[37,40,30,38],[37,41,30,38,"default"],[37,48,30,38],[37,49,30,39,"getItem"],[37,56,30,46],[37,57,30,47],[37,64,30,54],[37,65,30,55],[38,10,31,6],[38,14,31,12,"userId"],[38,20,31,18],[38,29,31,27,"AsyncStorage"],[38,41,31,39],[38,42,31,39,"default"],[38,49,31,39],[38,50,31,40,"getItem"],[38,57,31,47],[38,58,31,48],[38,66,31,56],[38,67,31,57],[39,10,32,6],[39,14,32,12,"profileCompleted"],[39,30,32,28],[39,39,32,37,"AsyncStorage"],[39,51,32,49],[39,52,32,49,"default"],[39,59,32,49],[39,60,32,50,"getItem"],[39,67,32,57],[39,68,32,58],[39,86,32,76],[39,87,32,77],[40,10,34,6],[40,14,34,10,"token"],[40,19,34,15],[40,23,34,19,"userId"],[40,29,34,25],[40,31,34,27],[41,12,35,8,"set"],[41,15,35,11],[41,16,35,12],[42,14,36,10,"isAuthenticated"],[42,29,36,25],[42,31,36,27],[42,35,36,31],[43,14,37,10,"userId"],[43,20,37,16],[44,14,38,10,"token"],[44,19,38,15],[45,14,39,10,"profileCompleted"],[45,30,39,26],[45,32,39,28,"profileCompleted"],[45,48,39,44],[45,53,39,49],[45,59,39,55],[46,14,40,10,"isInitialized"],[46,27,40,23],[46,29,40,25],[47,12,41,8],[47,13,41,9],[47,14,41,10],[48,10,42,6],[48,11,42,7],[48,17,42,13],[49,12,43,8,"set"],[49,15,43,11],[49,16,43,12],[50,14,44,10,"isAuthenticated"],[50,29,44,25],[50,31,44,27],[50,36,44,32],[51,14,45,10,"userId"],[51,20,45,16],[51,22,45,18],[51,26,45,22],[52,14,46,10,"token"],[52,19,46,15],[52,21,46,17],[52,25,46,21],[53,14,47,10,"profileCompleted"],[53,30,47,26],[53,32,47,28],[53,37,47,33],[54,14,48,10,"isInitialized"],[54,27,48,23],[54,29,48,25],[55,12,49,8],[55,13,49,9],[55,14,49,10],[56,10,50,6],[57,8,51,4],[57,9,51,5],[57,10,51,6],[57,17,51,13,"error"],[57,22,51,18],[57,24,51,20],[58,10,52,6,"set"],[58,13,52,9],[58,14,52,10],[59,12,52,12,"isAuthenticated"],[59,27,52,27],[59,29,52,29],[59,34,52,34],[60,12,52,36,"userId"],[60,18,52,42],[60,20,52,44],[60,24,52,48],[61,12,52,50,"token"],[61,17,52,55],[61,19,52,57],[61,23,52,61],[62,12,52,63,"profileCompleted"],[62,28,52,79],[62,30,52,81],[62,35,52,86],[63,12,52,88,"isInitialized"],[63,25,52,101],[63,27,52,103],[64,10,52,108],[64,11,52,109],[64,12,52,110],[65,8,53,4],[66,6,54,2],[66,7,54,3],[67,6,54,3],[67,22,28,2,"initialize"],[67,32,28,12,"initialize"],[67,33,28,12],[68,8,28,12],[68,15,28,12,"_ref"],[68,19,28,12],[68,20,28,12,"apply"],[68,25,28,12],[68,32,28,12,"arguments"],[68,41,28,12],[69,6,28,12],[70,4,28,12],[70,7,54,3],[71,4,56,2,"login"],[71,9,56,7],[72,6,56,7],[72,10,56,7,"_ref2"],[72,15,56,7],[72,22,56,7,"_asyncToGenerator"],[72,39,56,7],[72,40,56,7,"default"],[72,47,56,7],[72,49,56,9],[72,60,56,16,"userId"],[72,66,56,30],[72,68,56,32,"token"],[72,73,56,45],[72,75,56,47,"profileCompleted"],[72,91,56,72],[72,93,56,77],[73,8,57,4],[74,8,58,4],[75,8,59,4],[75,14,59,10,"AsyncStorage"],[75,26,59,22],[75,27,59,22,"default"],[75,34,59,22],[75,35,59,23,"removeItem"],[75,45,59,33],[75,46,59,34],[75,59,59,47],[75,60,59,48],[76,8,61,4],[76,14,61,10,"AsyncStorage"],[76,26,61,22],[76,27,61,22,"default"],[76,34,61,22],[76,35,61,23,"setItem"],[76,42,61,30],[76,43,61,31],[76,50,61,38],[76,52,61,40,"token"],[76,57,61,45],[76,58,61,46],[77,8,62,4],[77,14,62,10,"AsyncStorage"],[77,26,62,22],[77,27,62,22,"default"],[77,34,62,22],[77,35,62,23,"setItem"],[77,42,62,30],[77,43,62,31],[77,51,62,39],[77,53,62,41,"userId"],[77,59,62,47],[77,60,62,48],[78,8,63,4],[78,14,63,10,"AsyncStorage"],[78,26,63,22],[78,27,63,22,"default"],[78,34,63,22],[78,35,63,23,"setItem"],[78,42,63,30],[78,43,63,31],[78,61,63,49],[78,63,63,51,"profileCompleted"],[78,79,63,67],[78,82,63,70],[78,88,63,76],[78,91,63,79],[78,98,63,86],[78,99,63,87],[79,8,64,4,"set"],[79,11,64,7],[79,12,64,8],[80,10,64,10,"isAuthenticated"],[80,25,64,25],[80,27,64,27],[80,31,64,31],[81,10,64,33,"userId"],[81,16,64,39],[82,10,64,41,"token"],[82,15,64,46],[83,10,64,48,"profileCompleted"],[84,8,64,65],[84,9,64,66],[84,10,64,67],[85,6,65,2],[85,7,65,3],[86,6,65,3],[86,22,56,2,"login"],[86,27,56,7,"login"],[86,28,56,7,"_x"],[86,30,56,7],[86,32,56,7,"_x2"],[86,35,56,7],[86,37,56,7,"_x3"],[86,40,56,7],[87,8,56,7],[87,15,56,7,"_ref2"],[87,20,56,7],[87,21,56,7,"apply"],[87,26,56,7],[87,33,56,7,"arguments"],[87,42,56,7],[88,6,56,7],[89,4,56,7],[89,7,65,3],[90,4,67,2,"setProfileCompleted"],[90,23,67,21],[91,6,67,21],[91,10,67,21,"_ref3"],[91,15,67,21],[91,22,67,21,"_asyncToGenerator"],[91,39,67,21],[91,40,67,21,"default"],[91,47,67,21],[91,49,67,23],[91,60,67,30,"completed"],[91,69,67,48],[91,71,67,53],[92,8,68,4],[92,14,68,10,"AsyncStorage"],[92,26,68,22],[92,27,68,22,"default"],[92,34,68,22],[92,35,68,23,"setItem"],[92,42,68,30],[92,43,68,31],[92,61,68,49],[92,63,68,51,"completed"],[92,72,68,60],[92,75,68,63],[92,81,68,69],[92,84,68,72],[92,91,68,79],[92,92,68,80],[93,8,69,4,"set"],[93,11,69,7],[93,12,69,8],[94,10,69,10,"profileCompleted"],[94,26,69,26],[94,28,69,28,"completed"],[95,8,69,38],[95,9,69,39],[95,10,69,40],[96,6,70,2],[96,7,70,3],[97,6,70,3],[97,22,67,2,"setProfileCompleted"],[97,41,67,21,"setProfileCompleted"],[97,42,67,21,"_x4"],[97,45,67,21],[98,8,67,21],[98,15,67,21,"_ref3"],[98,20,67,21],[98,21,67,21,"apply"],[98,26,67,21],[98,33,67,21,"arguments"],[98,42,67,21],[99,6,67,21],[100,4,67,21],[100,7,70,3],[101,4,72,2,"logout"],[101,10,72,8],[102,6,72,8],[102,10,72,8,"_ref4"],[102,15,72,8],[102,22,72,8,"_asyncToGenerator"],[102,39,72,8],[102,40,72,8,"default"],[102,47,72,8],[102,49,72,10],[102,62,72,22],[103,8,73,4],[104,8,74,4],[104,12,74,8],[105,10,75,6],[105,16,75,12,"AsyncStorage"],[105,28,75,24],[105,29,75,24,"default"],[105,36,75,24],[105,37,75,25,"clear"],[105,42,75,30],[105,43,75,31],[105,44,75,32],[106,8,76,4],[106,9,76,5],[106,10,76,6],[106,17,76,13,"error"],[106,22,76,18],[106,24,76,20],[107,10,77,6,"console"],[107,17,77,13],[107,18,77,14,"error"],[107,23,77,19],[107,24,77,20],[107,54,77,50],[107,56,77,52,"error"],[107,61,77,57],[107,62,77,58],[108,8,78,4],[109,8,79,4],[110,8,80,4,"set"],[110,11,80,7],[110,12,80,8],[111,10,80,10,"isAuthenticated"],[111,25,80,25],[111,27,80,27],[111,32,80,32],[112,10,80,34,"userId"],[112,16,80,40],[112,18,80,42],[112,22,80,46],[113,10,80,48,"token"],[113,15,80,53],[113,17,80,55],[113,21,80,59],[114,10,80,61,"profileCompleted"],[114,26,80,77],[114,28,80,79],[114,33,80,84],[115,10,80,86,"isInitialized"],[115,23,80,99],[115,25,80,101],[116,8,80,106],[116,9,80,107],[116,10,80,108],[117,6,81,2],[117,7,81,3],[118,6,81,3],[118,22,72,2,"logout"],[118,28,72,8,"logout"],[118,29,72,8],[119,8,72,8],[119,15,72,8,"_ref4"],[119,20,72,8],[119,21,72,8,"apply"],[119,26,72,8],[119,33,72,8,"arguments"],[119,42,72,8],[120,6,72,8],[121,4,72,8],[122,2,82,0],[122,3,82,1],[122,4,82,2],[122,5,82,3],[123,0,82,4],[123,3]],"functionMap":{"names":["<global>","create$argument_0","initialize","login","setProfileCompleted","logout"],"mappings":"AAA;8CCoB;cCO;GD0B;SEE;GFS;uBGE;GHG;UIE;GJS;EDC"},"hasCjsExports":false},"type":"js/module"}]}