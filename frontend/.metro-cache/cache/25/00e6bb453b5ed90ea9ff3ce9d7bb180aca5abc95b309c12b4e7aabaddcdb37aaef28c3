{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":216},"end":{"line":8,"column":33,"index":249}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":250},"end":{"line":9,"column":69,"index":319}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Auth Store - Gerenciamento de Autentica√ß√£o\n   * CR√çTICO: Controla estado de sess√£o e logout completo\n   * \n   * SOLU√á√ÉO: Estado em mem√≥ria SEM persist√™ncia autom√°tica\n   * O logout limpa TUDO e for√ßa estado false\n   */\n\n  // Flag global para bloquear re-autentica√ß√£o ap√≥s logout\n  let LOGOUT_IN_PROGRESS = false;\n  let LOGOUT_COMPLETED = false;\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    isAuthenticated: false,\n    userId: null,\n    accessToken: null,\n    isLoading: true,\n    isInitialized: false,\n    /**\n     * INICIALIZA√á√ÉO - Chamada UMA VEZ ao abrir app\n     */\n    initialize: async () => {\n      // Se logout foi completado, n√£o re-autentica\n      if (LOGOUT_COMPLETED) {\n        console.log('üîê AUTH: Logout recente, mantendo deslogado');\n        set({\n          isAuthenticated: false,\n          userId: null,\n          accessToken: null,\n          isLoading: false,\n          isInitialized: true\n        });\n        return;\n      }\n      console.log('üîê AUTH: Inicializando...');\n      try {\n        const token = await AsyncStorage.default.getItem('accessToken');\n        const userId = await AsyncStorage.default.getItem('userId');\n        console.log('üîê AUTH: Dados encontrados:', {\n          hasToken: !!token,\n          hasUserId: !!userId\n        });\n        if (!token || !userId) {\n          set({\n            isAuthenticated: false,\n            userId: null,\n            accessToken: null,\n            isLoading: false,\n            isInitialized: true\n          });\n          return;\n        }\n\n        // Token existe - considera autenticado\n        set({\n          isAuthenticated: true,\n          userId,\n          accessToken: token,\n          isLoading: false,\n          isInitialized: true\n        });\n      } catch (error) {\n        console.error('üîê AUTH: Erro na inicializa√ß√£o:', error);\n        set({\n          isAuthenticated: false,\n          userId: null,\n          accessToken: null,\n          isLoading: false,\n          isInitialized: true\n        });\n      }\n    },\n    /**\n     * SET AUTH - Ap√≥s login/signup bem sucedido\n     */\n    setAuth: async (userId, token) => {\n      LOGOUT_COMPLETED = false; // Reset flag de logout\n\n      await AsyncStorage.default.setItem('accessToken', token);\n      await AsyncStorage.default.setItem('userId', userId);\n      set({\n        isAuthenticated: true,\n        userId,\n        accessToken: token\n      });\n      console.log('üîê AUTH: Autenticado:', userId);\n    },\n    /**\n     * LOGOUT - HARD RESET COMPLETO\n     */\n    logout: async () => {\n      if (LOGOUT_IN_PROGRESS) {\n        console.log('üîê LOGOUT: J√° em progresso, ignorando...');\n        return;\n      }\n      LOGOUT_IN_PROGRESS = true;\n      console.log('üîê LOGOUT: ========== INICIANDO HARD RESET ==========');\n\n      // 1. PRIMEIRO: Reset estado IMEDIATO\n      set({\n        isAuthenticated: false,\n        userId: null,\n        accessToken: null,\n        isLoading: false\n      });\n      console.log('üîê LOGOUT: Estado Zustand resetado');\n      try {\n        // 2. Lista todas as chaves\n        const allKeys = await AsyncStorage.default.getAllKeys();\n        console.log('üîê LOGOUT: Chaves encontradas:', allKeys.length, allKeys);\n\n        // 3. Remove todas as chaves\n        if (allKeys.length > 0) {\n          await AsyncStorage.default.multiRemove(allKeys);\n          console.log('üîê LOGOUT: multiRemove executado');\n        }\n\n        // 4. Clear completo\n        await AsyncStorage.default.clear();\n        console.log('üîê LOGOUT: clear() executado');\n\n        // 5. Verifica se limpou\n        const remaining = await AsyncStorage.default.getAllKeys();\n        console.log('üîê LOGOUT: Chaves restantes:', remaining.length);\n\n        // 6. Se ainda tem chaves, remove uma a uma\n        if (remaining.length > 0) {\n          for (const key of remaining) {\n            try {\n              await AsyncStorage.default.removeItem(key);\n            } catch (e) {\n              console.warn('üîê LOGOUT: Erro ao remover', key);\n            }\n          }\n        }\n\n        // 7. Marca logout como completo\n        LOGOUT_COMPLETED = true;\n        console.log('üîê LOGOUT: ========== COMPLETO ==========');\n      } catch (error) {\n        console.error('üîê LOGOUT: Erro:', error);\n        LOGOUT_COMPLETED = true; // Mesmo com erro, marca como completo\n      } finally {\n        LOGOUT_IN_PROGRESS = false;\n      }\n    },\n    /**\n     * FORCE LOGOUT - Logout s√≠ncrono imediato\n     */\n    forceLogout: () => {\n      LOGOUT_COMPLETED = true;\n      set({\n        isAuthenticated: false,\n        userId: null,\n        accessToken: null,\n        isLoading: false\n      });\n    }\n  }));\n\n  // Reset flag quando m√≥dulo √© carregado\n  LOGOUT_COMPLETED = false;\n});","lineCount":182,"map":[[12,2,28,0,"Object"],[12,8,28,0],[12,9,28,0,"defineProperty"],[12,23,28,0],[12,24,28,0,"exports"],[12,31,28,0],[13,4,28,0,"enumerable"],[13,14,28,0],[14,4,28,0,"get"],[14,7,28,0],[14,18,28,0,"get"],[14,19,28,0],[15,6,28,0],[15,13,28,0,"useAuthStore"],[15,25,28,0],[16,4,28,0],[17,2,28,0],[18,2,8,0],[18,6,8,0,"_zustand"],[18,14,8,0],[18,17,8,0,"require"],[18,24,8,0],[18,25,8,0,"_dependencyMap"],[18,39,8,0],[19,2,9,0],[19,6,9,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,9,0],[19,45,9,0,"require"],[19,52,9,0],[19,53,9,0,"_dependencyMap"],[19,67,9,0],[20,2,9,0],[20,6,9,0,"AsyncStorage"],[20,18,9,0],[20,21,9,0,"_interopDefault"],[20,36,9,0],[20,37,9,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,9,0],[21,2,1,0],[22,0,2,0],[23,0,3,0],[24,0,4,0],[25,0,5,0],[26,0,6,0],[27,0,7,0],[29,2,11,0],[30,2,12,0],[30,6,12,4,"LOGOUT_IN_PROGRESS"],[30,24,12,22],[30,27,12,25],[30,32,12,30],[31,2,13,0],[31,6,13,4,"LOGOUT_COMPLETED"],[31,22,13,20],[31,25,13,23],[31,30,13,28],[32,2,28,7],[32,8,28,13,"useAuthStore"],[32,20,28,25],[32,23,28,28],[32,27,28,28,"create"],[32,35,28,34],[32,36,28,34,"create"],[32,42,28,34],[32,44,28,46],[32,45,28,47,"set"],[32,48,28,50],[32,50,28,52,"get"],[32,53,28,55],[32,59,28,61],[33,4,29,2,"isAuthenticated"],[33,19,29,17],[33,21,29,19],[33,26,29,24],[34,4,30,2,"userId"],[34,10,30,8],[34,12,30,10],[34,16,30,14],[35,4,31,2,"accessToken"],[35,15,31,13],[35,17,31,15],[35,21,31,19],[36,4,32,2,"isLoading"],[36,13,32,11],[36,15,32,13],[36,19,32,17],[37,4,33,2,"isInitialized"],[37,17,33,15],[37,19,33,17],[37,24,33,22],[38,4,35,2],[39,0,36,0],[40,0,37,0],[41,4,38,2,"initialize"],[41,14,38,12],[41,16,38,14],[41,22,38,14,"initialize"],[41,23,38,14],[41,28,38,26],[42,6,39,4],[43,6,40,4],[43,10,40,8,"LOGOUT_COMPLETED"],[43,26,40,24],[43,28,40,26],[44,8,41,6,"console"],[44,15,41,13],[44,16,41,14,"log"],[44,19,41,17],[44,20,41,18],[44,65,41,63],[44,66,41,64],[45,8,42,6,"set"],[45,11,42,9],[45,12,42,10],[46,10,43,8,"isAuthenticated"],[46,25,43,23],[46,27,43,25],[46,32,43,30],[47,10,44,8,"userId"],[47,16,44,14],[47,18,44,16],[47,22,44,20],[48,10,45,8,"accessToken"],[48,21,45,19],[48,23,45,21],[48,27,45,25],[49,10,46,8,"isLoading"],[49,19,46,17],[49,21,46,19],[49,26,46,24],[50,10,47,8,"isInitialized"],[50,23,47,21],[50,25,47,23],[51,8,48,6],[51,9,48,7],[51,10,48,8],[52,8,49,6],[53,6,50,4],[54,6,52,4,"console"],[54,13,52,11],[54,14,52,12,"log"],[54,17,52,15],[54,18,52,16],[54,45,52,43],[54,46,52,44],[55,6,54,4],[55,10,54,8],[56,8,55,6],[56,14,55,12,"token"],[56,19,55,17],[56,22,55,20],[56,28,55,26,"AsyncStorage"],[56,40,55,38],[56,41,55,38,"default"],[56,48,55,38],[56,49,55,39,"getItem"],[56,56,55,46],[56,57,55,47],[56,70,55,60],[56,71,55,61],[57,8,56,6],[57,14,56,12,"userId"],[57,20,56,18],[57,23,56,21],[57,29,56,27,"AsyncStorage"],[57,41,56,39],[57,42,56,39,"default"],[57,49,56,39],[57,50,56,40,"getItem"],[57,57,56,47],[57,58,56,48],[57,66,56,56],[57,67,56,57],[58,8,58,6,"console"],[58,15,58,13],[58,16,58,14,"log"],[58,19,58,17],[58,20,58,18],[58,49,58,47],[58,51,58,49],[59,10,58,51,"hasToken"],[59,18,58,59],[59,20,58,61],[59,21,58,62],[59,22,58,63,"token"],[59,27,58,68],[60,10,58,70,"hasUserId"],[60,19,58,79],[60,21,58,81],[60,22,58,82],[60,23,58,83,"userId"],[61,8,58,90],[61,9,58,91],[61,10,58,92],[62,8,60,6],[62,12,60,10],[62,13,60,11,"token"],[62,18,60,16],[62,22,60,20],[62,23,60,21,"userId"],[62,29,60,27],[62,31,60,29],[63,10,61,8,"set"],[63,13,61,11],[63,14,61,12],[64,12,62,10,"isAuthenticated"],[64,27,62,25],[64,29,62,27],[64,34,62,32],[65,12,63,10,"userId"],[65,18,63,16],[65,20,63,18],[65,24,63,22],[66,12,64,10,"accessToken"],[66,23,64,21],[66,25,64,23],[66,29,64,27],[67,12,65,10,"isLoading"],[67,21,65,19],[67,23,65,21],[67,28,65,26],[68,12,66,10,"isInitialized"],[68,25,66,23],[68,27,66,25],[69,10,67,8],[69,11,67,9],[69,12,67,10],[70,10,68,8],[71,8,69,6],[73,8,71,6],[74,8,72,6,"set"],[74,11,72,9],[74,12,72,10],[75,10,73,8,"isAuthenticated"],[75,25,73,23],[75,27,73,25],[75,31,73,29],[76,10,74,8,"userId"],[76,16,74,14],[77,10,75,8,"accessToken"],[77,21,75,19],[77,23,75,21,"token"],[77,28,75,26],[78,10,76,8,"isLoading"],[78,19,76,17],[78,21,76,19],[78,26,76,24],[79,10,77,8,"isInitialized"],[79,23,77,21],[79,25,77,23],[80,8,78,6],[80,9,78,7],[80,10,78,8],[81,6,80,4],[81,7,80,5],[81,8,80,6],[81,15,80,13,"error"],[81,20,80,18],[81,22,80,20],[82,8,81,6,"console"],[82,15,81,13],[82,16,81,14,"error"],[82,21,81,19],[82,22,81,20],[82,55,81,53],[82,57,81,55,"error"],[82,62,81,60],[82,63,81,61],[83,8,82,6,"set"],[83,11,82,9],[83,12,82,10],[84,10,83,8,"isAuthenticated"],[84,25,83,23],[84,27,83,25],[84,32,83,30],[85,10,84,8,"userId"],[85,16,84,14],[85,18,84,16],[85,22,84,20],[86,10,85,8,"accessToken"],[86,21,85,19],[86,23,85,21],[86,27,85,25],[87,10,86,8,"isLoading"],[87,19,86,17],[87,21,86,19],[87,26,86,24],[88,10,87,8,"isInitialized"],[88,23,87,21],[88,25,87,23],[89,8,88,6],[89,9,88,7],[89,10,88,8],[90,6,89,4],[91,4,90,2],[91,5,90,3],[92,4,92,2],[93,0,93,0],[94,0,94,0],[95,4,95,2,"setAuth"],[95,11,95,9],[95,13,95,11],[95,19,95,11,"setAuth"],[95,20,95,18,"userId"],[95,26,95,32],[95,28,95,34,"token"],[95,33,95,47],[95,38,95,52],[96,6,96,4,"LOGOUT_COMPLETED"],[96,22,96,20],[96,25,96,23],[96,30,96,28],[96,31,96,29],[96,32,96,30],[98,6,98,4],[98,12,98,10,"AsyncStorage"],[98,24,98,22],[98,25,98,22,"default"],[98,32,98,22],[98,33,98,23,"setItem"],[98,40,98,30],[98,41,98,31],[98,54,98,44],[98,56,98,46,"token"],[98,61,98,51],[98,62,98,52],[99,6,99,4],[99,12,99,10,"AsyncStorage"],[99,24,99,22],[99,25,99,22,"default"],[99,32,99,22],[99,33,99,23,"setItem"],[99,40,99,30],[99,41,99,31],[99,49,99,39],[99,51,99,41,"userId"],[99,57,99,47],[99,58,99,48],[100,6,101,4,"set"],[100,9,101,7],[100,10,101,8],[101,8,102,6,"isAuthenticated"],[101,23,102,21],[101,25,102,23],[101,29,102,27],[102,8,103,6,"userId"],[102,14,103,12],[103,8,104,6,"accessToken"],[103,19,104,17],[103,21,104,19,"token"],[104,6,105,4],[104,7,105,5],[104,8,105,6],[105,6,107,4,"console"],[105,13,107,11],[105,14,107,12,"log"],[105,17,107,15],[105,18,107,16],[105,41,107,39],[105,43,107,41,"userId"],[105,49,107,47],[105,50,107,48],[106,4,108,2],[106,5,108,3],[107,4,110,2],[108,0,111,0],[109,0,112,0],[110,4,113,2,"logout"],[110,10,113,8],[110,12,113,10],[110,18,113,10,"logout"],[110,19,113,10],[110,24,113,22],[111,6,114,4],[111,10,114,8,"LOGOUT_IN_PROGRESS"],[111,28,114,26],[111,30,114,28],[112,8,115,6,"console"],[112,15,115,13],[112,16,115,14,"log"],[112,19,115,17],[112,20,115,18],[112,62,115,60],[112,63,115,61],[113,8,116,6],[114,6,117,4],[115,6,119,4,"LOGOUT_IN_PROGRESS"],[115,24,119,22],[115,27,119,25],[115,31,119,29],[116,6,120,4,"console"],[116,13,120,11],[116,14,120,12,"log"],[116,17,120,15],[116,18,120,16],[116,73,120,71],[116,74,120,72],[118,6,122,4],[119,6,123,4,"set"],[119,9,123,7],[119,10,123,8],[120,8,124,6,"isAuthenticated"],[120,23,124,21],[120,25,124,23],[120,30,124,28],[121,8,125,6,"userId"],[121,14,125,12],[121,16,125,14],[121,20,125,18],[122,8,126,6,"accessToken"],[122,19,126,17],[122,21,126,19],[122,25,126,23],[123,8,127,6,"isLoading"],[123,17,127,15],[123,19,127,17],[124,6,128,4],[124,7,128,5],[124,8,128,6],[125,6,129,4,"console"],[125,13,129,11],[125,14,129,12,"log"],[125,17,129,15],[125,18,129,16],[125,54,129,52],[125,55,129,53],[126,6,131,4],[126,10,131,8],[127,8,132,6],[128,8,133,6],[128,14,133,12,"allKeys"],[128,21,133,19],[128,24,133,22],[128,30,133,28,"AsyncStorage"],[128,42,133,40],[128,43,133,40,"default"],[128,50,133,40],[128,51,133,41,"getAllKeys"],[128,61,133,51],[128,62,133,52],[128,63,133,53],[129,8,134,6,"console"],[129,15,134,13],[129,16,134,14,"log"],[129,19,134,17],[129,20,134,18],[129,52,134,50],[129,54,134,52,"allKeys"],[129,61,134,59],[129,62,134,60,"length"],[129,68,134,66],[129,70,134,68,"allKeys"],[129,77,134,75],[129,78,134,76],[131,8,136,6],[132,8,137,6],[132,12,137,10,"allKeys"],[132,19,137,17],[132,20,137,18,"length"],[132,26,137,24],[132,29,137,27],[132,30,137,28],[132,32,137,30],[133,10,138,8],[133,16,138,14,"AsyncStorage"],[133,28,138,26],[133,29,138,26,"default"],[133,36,138,26],[133,37,138,27,"multiRemove"],[133,48,138,38],[133,49,138,39,"allKeys"],[133,56,138,46],[133,57,138,47],[134,10,139,8,"console"],[134,17,139,15],[134,18,139,16,"log"],[134,21,139,19],[134,22,139,20],[134,56,139,54],[134,57,139,55],[135,8,140,6],[137,8,142,6],[138,8,143,6],[138,14,143,12,"AsyncStorage"],[138,26,143,24],[138,27,143,24,"default"],[138,34,143,24],[138,35,143,25,"clear"],[138,40,143,30],[138,41,143,31],[138,42,143,32],[139,8,144,6,"console"],[139,15,144,13],[139,16,144,14,"log"],[139,19,144,17],[139,20,144,18],[139,50,144,48],[139,51,144,49],[141,8,146,6],[142,8,147,6],[142,14,147,12,"remaining"],[142,23,147,21],[142,26,147,24],[142,32,147,30,"AsyncStorage"],[142,44,147,42],[142,45,147,42,"default"],[142,52,147,42],[142,53,147,43,"getAllKeys"],[142,63,147,53],[142,64,147,54],[142,65,147,55],[143,8,148,6,"console"],[143,15,148,13],[143,16,148,14,"log"],[143,19,148,17],[143,20,148,18],[143,50,148,48],[143,52,148,50,"remaining"],[143,61,148,59],[143,62,148,60,"length"],[143,68,148,66],[143,69,148,67],[145,8,150,6],[146,8,151,6],[146,12,151,10,"remaining"],[146,21,151,19],[146,22,151,20,"length"],[146,28,151,26],[146,31,151,29],[146,32,151,30],[146,34,151,32],[147,10,152,8],[147,15,152,13],[147,21,152,19,"key"],[147,24,152,22],[147,28,152,26,"remaining"],[147,37,152,35],[147,39,152,37],[148,12,153,10],[148,16,153,14],[149,14,154,12],[149,20,154,18,"AsyncStorage"],[149,32,154,30],[149,33,154,30,"default"],[149,40,154,30],[149,41,154,31,"removeItem"],[149,51,154,41],[149,52,154,42,"key"],[149,55,154,45],[149,56,154,46],[150,12,155,10],[150,13,155,11],[150,14,155,12],[150,21,155,19,"e"],[150,22,155,20],[150,24,155,22],[151,14,156,12,"console"],[151,21,156,19],[151,22,156,20,"warn"],[151,26,156,24],[151,27,156,25],[151,55,156,53],[151,57,156,55,"key"],[151,60,156,58],[151,61,156,59],[152,12,157,10],[153,10,158,8],[154,8,159,6],[156,8,161,6],[157,8,162,6,"LOGOUT_COMPLETED"],[157,24,162,22],[157,27,162,25],[157,31,162,29],[158,8,164,6,"console"],[158,15,164,13],[158,16,164,14,"log"],[158,19,164,17],[158,20,164,18],[158,63,164,61],[158,64,164,62],[159,6,166,4],[159,7,166,5],[159,8,166,6],[159,15,166,13,"error"],[159,20,166,18],[159,22,166,20],[160,8,167,6,"console"],[160,15,167,13],[160,16,167,14,"error"],[160,21,167,19],[160,22,167,20],[160,40,167,38],[160,42,167,40,"error"],[160,47,167,45],[160,48,167,46],[161,8,168,6,"LOGOUT_COMPLETED"],[161,24,168,22],[161,27,168,25],[161,31,168,29],[161,32,168,30],[161,33,168,31],[162,6,169,4],[162,7,169,5],[162,16,169,14],[163,8,170,6,"LOGOUT_IN_PROGRESS"],[163,26,170,24],[163,29,170,27],[163,34,170,32],[164,6,171,4],[165,4,172,2],[165,5,172,3],[166,4,174,2],[167,0,175,0],[168,0,176,0],[169,4,177,2,"forceLogout"],[169,15,177,13],[169,17,177,15,"forceLogout"],[169,18,177,15],[169,23,177,21],[170,6,178,4,"LOGOUT_COMPLETED"],[170,22,178,20],[170,25,178,23],[170,29,178,27],[171,6,179,4,"set"],[171,9,179,7],[171,10,179,8],[172,8,180,6,"isAuthenticated"],[172,23,180,21],[172,25,180,23],[172,30,180,28],[173,8,181,6,"userId"],[173,14,181,12],[173,16,181,14],[173,20,181,18],[174,8,182,6,"accessToken"],[174,19,182,17],[174,21,182,19],[174,25,182,23],[175,8,183,6,"isLoading"],[175,17,183,15],[175,19,183,17],[176,6,184,4],[176,7,184,5],[176,8,184,6],[177,4,185,2],[178,2,186,0],[178,3,186,1],[178,4,186,2],[178,5,186,3],[180,2,188,0],[181,2,189,0,"LOGOUT_COMPLETED"],[181,18,189,16],[181,21,189,19],[181,26,189,24],[182,0,189,25],[182,3]],"functionMap":{"names":["<global>","create$argument_0","initialize","setAuth","logout","forceLogout"],"mappings":"AAA;8CC2B;cCU;GDoD;WEK;GFa;UGK;GH2D;eIK;GJQ;EDC"},"hasCjsExports":false},"type":"js/module"}]}