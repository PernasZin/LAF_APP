{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":110},"end":{"line":5,"column":33,"index":143}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":144},"end":{"line":6,"column":64,"index":208}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":209},"end":{"line":7,"column":69,"index":278}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _zustandMiddleware = require(_dependencyMap[2], \"zustand/middleware\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Auth Store - Gerenciamento de AutenticaÃ§Ã£o\n   * CRÃTICO: Controla estado de sessÃ£o e logout completo\n   */\n\n  // Lista COMPLETA de chaves a limpar no logout\n  var AUTH_STORAGE_KEYS = ['userId', 'user', 'userProfile', 'authToken', 'accessToken', 'refreshToken', 'hasCompletedOnboarding', 'dietPlan', 'workoutPlan', 'profileImage', 'notificationsEnabled', 'laf-settings', 'laf-auth', 'profile', 'settings', 'onboardingCompleted', 'dietData'];\n  var useAuthStore = (0, _zustand.create)()((0, _zustandMiddleware.persist)((set, get) => ({\n    isAuthenticated: false,\n    userId: null,\n    isLoading: false,\n    isHydrated: false,\n    setAuthenticated: (authenticated, userId) => {\n      set({\n        isAuthenticated: authenticated,\n        userId: userId !== undefined ? userId : get().userId\n      });\n    },\n    setUserId: userId => {\n      set({\n        userId,\n        isAuthenticated: !!userId\n      });\n    },\n    setHydrated: hydrated => {\n      set({\n        isHydrated: hydrated\n      });\n    },\n    /**\n     * LOGOUT COMPLETO\n     * Remove TODOS os dados de sessÃ£o\n     */\n    logout: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        console.log('ðŸ” LOGOUT: Iniciando limpeza completa...');\n        try {\n          // 1. Reset estado Zustand IMEDIATAMENTE\n          set({\n            isAuthenticated: false,\n            userId: null,\n            isLoading: false\n          });\n          console.log('âœ… Estado Zustand resetado');\n\n          // 2. Remove chaves especÃ­ficas\n          yield AsyncStorage.default.multiRemove(AUTH_STORAGE_KEYS);\n          console.log('âœ… Chaves de autenticaÃ§Ã£o removidas');\n\n          // 3. Remove TODAS as chaves (belt and suspenders)\n          var allKeys = yield AsyncStorage.default.getAllKeys();\n          if (allKeys.length > 0) {\n            yield AsyncStorage.default.multiRemove(allKeys);\n            console.log(`âœ… Todas as ${allKeys.length} chaves removidas`);\n          }\n\n          // 4. Confirma limpeza\n          var remainingKeys = yield AsyncStorage.default.getAllKeys();\n          if (remainingKeys.length > 0) {\n            console.warn('âš ï¸ Chaves restantes apÃ³s logout:', remainingKeys);\n            // ForÃ§a remoÃ§Ã£o uma a uma\n            for (var key of remainingKeys) {\n              yield AsyncStorage.default.removeItem(key);\n            }\n          }\n          console.log('ðŸ” LOGOUT: Completo!');\n        } catch (error) {\n          console.error('âŒ Erro no logout:', error);\n          // Mesmo com erro, garante estado resetado\n          set({\n            isAuthenticated: false,\n            userId: null\n          });\n          throw error;\n        }\n      });\n      return function logout() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    /**\n     * VALIDAÃ‡ÃƒO DE SESSÃƒO\n     * Verifica se usuÃ¡rio ainda tem sessÃ£o vÃ¡lida\n     */\n    validateSession: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var userId = yield AsyncStorage.default.getItem('userId');\n          var hasCompleted = yield AsyncStorage.default.getItem('hasCompletedOnboarding');\n          var isValid = !!(userId && hasCompleted === 'true');\n          set({\n            isAuthenticated: isValid,\n            userId: isValid ? userId : null\n          });\n          console.log('ðŸ” SessÃ£o validada:', {\n            isValid,\n            userId: isValid ? userId : null\n          });\n          return isValid;\n        } catch (error) {\n          console.error('âŒ Erro ao validar sessÃ£o:', error);\n          // Se erro, considera nÃ£o autenticado\n          set({\n            isAuthenticated: false,\n            userId: null\n          });\n          return false;\n        }\n      });\n      return function validateSession() {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  }), {\n    name: 'laf-auth',\n    storage: (0, _zustandMiddleware.createJSONStorage)(() => AsyncStorage.default),\n    partialize: state => ({\n      isAuthenticated: state.isAuthenticated,\n      userId: state.userId\n    }),\n    onRehydrateStorage: () => state => {\n      if (state) {\n        state.setHydrated(true);\n      }\n    }\n  }));\n});","lineCount":150,"map":[[12,2,45,0,"Object"],[12,8,45,0],[12,9,45,0,"defineProperty"],[12,23,45,0],[12,24,45,0,"exports"],[12,31,45,0],[13,4,45,0,"enumerable"],[13,14,45,0],[14,4,45,0,"get"],[14,7,45,0],[14,18,45,0,"get"],[14,19,45,0],[15,6,45,0],[15,13,45,0,"useAuthStore"],[15,25,45,0],[16,4,45,0],[17,2,45,0],[18,2,161,2],[18,6,161,2,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,161,2],[18,45,161,2,"require"],[18,52,161,2],[18,53,161,2,"_dependencyMap"],[18,67,161,2],[19,2,161,2],[19,6,161,2,"_asyncToGenerator"],[19,23,161,2],[19,26,161,2,"_interopDefault"],[19,41,161,2],[19,42,161,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,161,2],[20,2,5,0],[20,6,5,0,"_zustand"],[20,14,5,0],[20,17,5,0,"require"],[20,24,5,0],[20,25,5,0,"_dependencyMap"],[20,39,5,0],[21,2,6,0],[21,6,6,0,"_zustandMiddleware"],[21,24,6,0],[21,27,6,0,"require"],[21,34,6,0],[21,35,6,0,"_dependencyMap"],[21,49,6,0],[22,2,7,0],[22,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,7,0],[22,45,7,0,"require"],[22,52,7,0],[22,53,7,0,"_dependencyMap"],[22,67,7,0],[23,2,7,0],[23,6,7,0,"AsyncStorage"],[23,18,7,0],[23,21,7,0,"_interopDefault"],[23,36,7,0],[23,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,7,0],[24,2,1,0],[25,0,2,0],[26,0,3,0],[27,0,4,0],[29,2,9,0],[30,2,10,0],[30,6,10,6,"AUTH_STORAGE_KEYS"],[30,23,10,23],[30,26,10,26],[30,27,11,2],[30,35,11,10],[30,37,12,2],[30,43,12,8],[30,45,13,2],[30,58,13,15],[30,60,14,2],[30,71,14,13],[30,73,15,2],[30,86,15,15],[30,88,16,2],[30,102,16,16],[30,104,17,2],[30,128,17,26],[30,130,18,2],[30,140,18,12],[30,142,19,2],[30,155,19,15],[30,157,20,2],[30,171,20,16],[30,173,21,2],[30,195,21,24],[30,197,22,2],[30,211,22,16],[30,213,23,2],[30,223,23,12],[30,225,24,2],[30,234,24,11],[30,236,25,2],[30,246,25,12],[30,248,26,2],[30,269,26,23],[30,271,27,2],[30,281,27,12],[30,282,28,1],[31,2,45,7],[31,6,45,13,"useAuthStore"],[31,18,45,25],[31,21,45,28],[31,25,45,28,"create"],[31,33,45,34],[31,34,45,34,"create"],[31,40,45,34],[31,42,45,46],[31,43,45,47],[31,44,46,2],[31,48,46,2,"persist"],[31,66,46,9],[31,67,46,9,"persist"],[31,74,46,9],[31,76,47,4],[31,77,47,5,"set"],[31,80,47,8],[31,82,47,10,"get"],[31,85,47,13],[31,91,47,19],[32,4,48,6,"isAuthenticated"],[32,19,48,21],[32,21,48,23],[32,26,48,28],[33,4,49,6,"userId"],[33,10,49,12],[33,12,49,14],[33,16,49,18],[34,4,50,6,"isLoading"],[34,13,50,15],[34,15,50,17],[34,20,50,22],[35,4,51,6,"isHydrated"],[35,14,51,16],[35,16,51,18],[35,21,51,23],[36,4,53,6,"setAuthenticated"],[36,20,53,22],[36,22,53,24,"setAuthenticated"],[36,23,53,25,"authenticated"],[36,36,53,47],[36,38,53,49,"userId"],[36,44,53,71],[36,49,53,76],[37,6,54,8,"set"],[37,9,54,11],[37,10,54,12],[38,8,55,10,"isAuthenticated"],[38,23,55,25],[38,25,55,27,"authenticated"],[38,38,55,40],[39,8,56,10,"userId"],[39,14,56,16],[39,16,56,18,"userId"],[39,22,56,24],[39,27,56,29,"undefined"],[39,36,56,38],[39,39,56,41,"userId"],[39,45,56,47],[39,48,56,50,"get"],[39,51,56,53],[39,52,56,54],[39,53,56,55],[39,54,56,56,"userId"],[40,6,57,8],[40,7,57,9],[40,8,57,10],[41,4,58,6],[41,5,58,7],[42,4,60,6,"setUserId"],[42,13,60,15],[42,15,60,18,"userId"],[42,21,60,39],[42,25,60,44],[43,6,61,8,"set"],[43,9,61,11],[43,10,61,12],[44,8,61,14,"userId"],[44,14,61,20],[45,8,61,22,"isAuthenticated"],[45,23,61,37],[45,25,61,39],[45,26,61,40],[45,27,61,41,"userId"],[46,6,61,48],[46,7,61,49],[46,8,61,50],[47,4,62,6],[47,5,62,7],[48,4,64,6,"setHydrated"],[48,15,64,17],[48,17,64,20,"hydrated"],[48,25,64,37],[48,29,64,42],[49,6,65,8,"set"],[49,9,65,11],[49,10,65,12],[50,8,65,14,"isHydrated"],[50,18,65,24],[50,20,65,26,"hydrated"],[51,6,65,35],[51,7,65,36],[51,8,65,37],[52,4,66,6],[52,5,66,7],[53,4,68,6],[54,0,69,0],[55,0,70,0],[56,0,71,0],[57,4,72,6,"logout"],[57,10,72,12],[58,6,72,12],[58,10,72,12,"_ref"],[58,14,72,12],[58,21,72,12,"_asyncToGenerator"],[58,38,72,12],[58,39,72,12,"default"],[58,46,72,12],[58,48,72,14],[58,61,72,26],[59,8,73,8,"console"],[59,15,73,15],[59,16,73,16,"log"],[59,19,73,19],[59,20,73,20],[59,62,73,62],[59,63,73,63],[60,8,75,8],[60,12,75,12],[61,10,76,10],[62,10,77,10,"set"],[62,13,77,13],[62,14,77,14],[63,12,78,12,"isAuthenticated"],[63,27,78,27],[63,29,78,29],[63,34,78,34],[64,12,79,12,"userId"],[64,18,79,18],[64,20,79,20],[64,24,79,24],[65,12,80,12,"isLoading"],[65,21,80,21],[65,23,80,23],[66,10,81,10],[66,11,81,11],[66,12,81,12],[67,10,82,10,"console"],[67,17,82,17],[67,18,82,18,"log"],[67,21,82,21],[67,22,82,22],[67,49,82,49],[67,50,82,50],[69,10,84,10],[70,10,85,10],[70,16,85,16,"AsyncStorage"],[70,28,85,28],[70,29,85,28,"default"],[70,36,85,28],[70,37,85,29,"multiRemove"],[70,48,85,40],[70,49,85,41,"AUTH_STORAGE_KEYS"],[70,66,85,58],[70,67,85,59],[71,10,86,10,"console"],[71,17,86,17],[71,18,86,18,"log"],[71,21,86,21],[71,22,86,22],[71,58,86,58],[71,59,86,59],[73,10,88,10],[74,10,89,10],[74,14,89,16,"allKeys"],[74,21,89,23],[74,30,89,32,"AsyncStorage"],[74,42,89,44],[74,43,89,44,"default"],[74,50,89,44],[74,51,89,45,"getAllKeys"],[74,61,89,55],[74,62,89,56],[74,63,89,57],[75,10,90,10],[75,14,90,14,"allKeys"],[75,21,90,21],[75,22,90,22,"length"],[75,28,90,28],[75,31,90,31],[75,32,90,32],[75,34,90,34],[76,12,91,12],[76,18,91,18,"AsyncStorage"],[76,30,91,30],[76,31,91,30,"default"],[76,38,91,30],[76,39,91,31,"multiRemove"],[76,50,91,42],[76,51,91,43,"allKeys"],[76,58,91,50],[76,59,91,51],[77,12,92,12,"console"],[77,19,92,19],[77,20,92,20,"log"],[77,23,92,23],[77,24,92,24],[77,38,92,38,"allKeys"],[77,45,92,45],[77,46,92,46,"length"],[77,52,92,52],[77,71,92,71],[77,72,92,72],[78,10,93,10],[80,10,95,10],[81,10,96,10],[81,14,96,16,"remainingKeys"],[81,27,96,29],[81,36,96,38,"AsyncStorage"],[81,48,96,50],[81,49,96,50,"default"],[81,56,96,50],[81,57,96,51,"getAllKeys"],[81,67,96,61],[81,68,96,62],[81,69,96,63],[82,10,97,10],[82,14,97,14,"remainingKeys"],[82,27,97,27],[82,28,97,28,"length"],[82,34,97,34],[82,37,97,37],[82,38,97,38],[82,40,97,40],[83,12,98,12,"console"],[83,19,98,19],[83,20,98,20,"warn"],[83,24,98,24],[83,25,98,25],[83,59,98,59],[83,61,98,61,"remainingKeys"],[83,74,98,74],[83,75,98,75],[84,12,99,12],[85,12,100,12],[85,17,100,17],[85,21,100,23,"key"],[85,24,100,26],[85,28,100,30,"remainingKeys"],[85,41,100,43],[85,43,100,45],[86,14,101,14],[86,20,101,20,"AsyncStorage"],[86,32,101,32],[86,33,101,32,"default"],[86,40,101,32],[86,41,101,33,"removeItem"],[86,51,101,43],[86,52,101,44,"key"],[86,55,101,47],[86,56,101,48],[87,12,102,12],[88,10,103,10],[89,10,105,10,"console"],[89,17,105,17],[89,18,105,18,"log"],[89,21,105,21],[89,22,105,22],[89,44,105,44],[89,45,105,45],[90,8,106,8],[90,9,106,9],[90,10,106,10],[90,17,106,17,"error"],[90,22,106,22],[90,24,106,24],[91,10,107,10,"console"],[91,17,107,17],[91,18,107,18,"error"],[91,23,107,23],[91,24,107,24],[91,43,107,43],[91,45,107,45,"error"],[91,50,107,50],[91,51,107,51],[92,10,108,10],[93,10,109,10,"set"],[93,13,109,13],[93,14,109,14],[94,12,110,12,"isAuthenticated"],[94,27,110,27],[94,29,110,29],[94,34,110,34],[95,12,111,12,"userId"],[95,18,111,18],[95,20,111,20],[96,10,112,10],[96,11,112,11],[96,12,112,12],[97,10,113,10],[97,16,113,16,"error"],[97,21,113,21],[98,8,114,8],[99,6,115,6],[99,7,115,7],[100,6,115,7],[100,22,72,6,"logout"],[100,28,72,12,"logout"],[100,29,72,12],[101,8,72,12],[101,15,72,12,"_ref"],[101,19,72,12],[101,20,72,12,"apply"],[101,25,72,12],[101,32,72,12,"arguments"],[101,41,72,12],[102,6,72,12],[103,4,72,12],[103,7,115,7],[104,4,117,6],[105,0,118,0],[106,0,119,0],[107,0,120,0],[108,4,121,6,"validateSession"],[108,19,121,21],[109,6,121,21],[109,10,121,21,"_ref2"],[109,15,121,21],[109,22,121,21,"_asyncToGenerator"],[109,39,121,21],[109,40,121,21,"default"],[109,47,121,21],[109,49,121,23],[109,62,121,35],[110,8,122,8],[110,12,122,12],[111,10,123,10],[111,14,123,16,"userId"],[111,20,123,22],[111,29,123,31,"AsyncStorage"],[111,41,123,43],[111,42,123,43,"default"],[111,49,123,43],[111,50,123,44,"getItem"],[111,57,123,51],[111,58,123,52],[111,66,123,60],[111,67,123,61],[112,10,124,10],[112,14,124,16,"hasCompleted"],[112,26,124,28],[112,35,124,37,"AsyncStorage"],[112,47,124,49],[112,48,124,49,"default"],[112,55,124,49],[112,56,124,50,"getItem"],[112,63,124,57],[112,64,124,58],[112,88,124,82],[112,89,124,83],[113,10,126,10],[113,14,126,16,"isValid"],[113,21,126,23],[113,24,126,26],[113,25,126,27],[113,27,126,29,"userId"],[113,33,126,35],[113,37,126,39,"hasCompleted"],[113,49,126,51],[113,54,126,56],[113,60,126,62],[113,61,126,63],[114,10,128,10,"set"],[114,13,128,13],[114,14,128,14],[115,12,129,12,"isAuthenticated"],[115,27,129,27],[115,29,129,29,"isValid"],[115,36,129,36],[116,12,130,12,"userId"],[116,18,130,18],[116,20,130,20,"isValid"],[116,27,130,27],[116,30,130,30,"userId"],[116,36,130,36],[116,39,130,39],[117,10,131,10],[117,11,131,11],[117,12,131,12],[118,10,133,10,"console"],[118,17,133,17],[118,18,133,18,"log"],[118,21,133,21],[118,22,133,22],[118,43,133,43],[118,45,133,45],[119,12,133,47,"isValid"],[119,19,133,54],[120,12,133,56,"userId"],[120,18,133,62],[120,20,133,64,"isValid"],[120,27,133,71],[120,30,133,74,"userId"],[120,36,133,80],[120,39,133,83],[121,10,133,88],[121,11,133,89],[121,12,133,90],[122,10,135,10],[122,17,135,17,"isValid"],[122,24,135,24],[123,8,136,8],[123,9,136,9],[123,10,136,10],[123,17,136,17,"error"],[123,22,136,22],[123,24,136,24],[124,10,137,10,"console"],[124,17,137,17],[124,18,137,18,"error"],[124,23,137,23],[124,24,137,24],[124,51,137,51],[124,53,137,53,"error"],[124,58,137,58],[124,59,137,59],[125,10,138,10],[126,10,139,10,"set"],[126,13,139,13],[126,14,139,14],[127,12,140,12,"isAuthenticated"],[127,27,140,27],[127,29,140,29],[127,34,140,34],[128,12,141,12,"userId"],[128,18,141,18],[128,20,141,20],[129,10,142,10],[129,11,142,11],[129,12,142,12],[130,10,143,10],[130,17,143,17],[130,22,143,22],[131,8,144,8],[132,6,145,6],[132,7,145,7],[133,6,145,7],[133,22,121,6,"validateSession"],[133,37,121,21,"validateSession"],[133,38,121,21],[134,8,121,21],[134,15,121,21,"_ref2"],[134,20,121,21],[134,21,121,21,"apply"],[134,26,121,21],[134,33,121,21,"arguments"],[134,42,121,21],[135,6,121,21],[136,4,121,21],[137,2,146,4],[137,3,146,5],[137,4,146,6],[137,6,147,4],[138,4,148,6,"name"],[138,8,148,10],[138,10,148,12],[138,20,148,22],[139,4,149,6,"storage"],[139,11,149,13],[139,13,149,15],[139,17,149,15,"createJSONStorage"],[139,35,149,32],[139,36,149,32,"createJSONStorage"],[139,53,149,32],[139,55,149,33],[139,61,149,39,"AsyncStorage"],[139,73,149,51],[139,74,149,51,"default"],[139,81,149,51],[139,82,149,52],[140,4,150,6,"partialize"],[140,14,150,16],[140,16,150,19,"state"],[140,21,150,24],[140,26,150,30],[141,6,151,8,"isAuthenticated"],[141,21,151,23],[141,23,151,25,"state"],[141,28,151,30],[141,29,151,31,"isAuthenticated"],[141,44,151,46],[142,6,152,8,"userId"],[142,12,152,14],[142,14,152,16,"state"],[142,19,152,21],[142,20,152,22,"userId"],[143,4,153,6],[143,5,153,7],[143,6,153,8],[144,4,154,6,"onRehydrateStorage"],[144,22,154,24],[144,24,154,26,"onRehydrateStorage"],[144,25,154,26],[144,30,154,33,"state"],[144,35,154,38],[144,39,154,43],[145,6,155,8],[145,10,155,12,"state"],[145,15,155,17],[145,17,155,19],[146,8,156,10,"state"],[146,13,156,15],[146,14,156,16,"setHydrated"],[146,25,156,27],[146,26,156,28],[146,30,156,32],[146,31,156,33],[147,6,157,8],[148,4,158,6],[149,2,159,4],[149,3,160,2],[149,4,161,0],[149,5,161,1],[150,0,161,2],[150,3]],"functionMap":{"names":["<global>","persist$argument_0","setAuthenticated","setUserId","setHydrated","logout","validateSession","createJSONStorage$argument_0","persist$argument_1.partialize","persist$argument_1.onRehydrateStorage","<anonymous>"],"mappings":"AAA;IC8C;wBCM;ODK;iBEE;OFE;mBGE;OHE;cIM;OJ2C;uBKM;OLwB;MDC;iCOG,kBP;kBQC;QRG;0BSC,MC;OVI"},"hasCjsExports":false},"type":"js/module"}]}