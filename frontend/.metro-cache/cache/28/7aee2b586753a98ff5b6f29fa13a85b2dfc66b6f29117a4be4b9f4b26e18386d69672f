{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":173},"end":{"line":6,"column":33,"index":206}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":207},"end":{"line":7,"column":64,"index":271}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":272},"end":{"line":8,"column":69,"index":341}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Appearance","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"BwYMey7bwpCZDbBgbh7HMc3z50M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useSettingsStore\", {\n    enumerable: true,\n    get: function () {\n      return useSettingsStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _zustandMiddleware = require(_dependencyMap[1], \"zustand/middleware\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsAppearance = require(_dependencyMap[3], \"react-native-web/dist/exports/Appearance\");\n  var Appearance = _interopDefault(_reactNativeWebDistExportsAppearance);\n  /**\n   * Settings Store - Single Source of Truth para Theme e Privacy\n   * Usa Zustand para gerenciamento de estado global\n   * SAFE: Handles initialization errors gracefully\n   */\n\n  const getSystemTheme = () => {\n    try {\n      return Appearance.default.getColorScheme() || 'light';\n    } catch {\n      return 'light';\n    }\n  };\n  const useSettingsStore = (0, _zustand.create)()((0, _zustandMiddleware.persist)((set, get) => ({\n    // Default values\n    themePreference: 'system',\n    effectiveTheme: 'light',\n    privacyAnalytics: true,\n    privacyPersonalization: true,\n    privacyNotifications: true,\n    isLoading: false,\n    isHydrated: false,\n    setThemePreference: theme => {\n      let effective;\n      if (theme === 'system') {\n        effective = getSystemTheme();\n      } else {\n        effective = theme;\n      }\n      set({\n        themePreference: theme,\n        effectiveTheme: effective\n      });\n    },\n    setPrivacyAnalytics: enabled => {\n      set({\n        privacyAnalytics: enabled\n      });\n    },\n    setPrivacyPersonalization: enabled => {\n      set({\n        privacyPersonalization: enabled\n      });\n    },\n    setPrivacyNotifications: enabled => {\n      set({\n        privacyNotifications: enabled\n      });\n    },\n    loadSettings: settings => {\n      let effective;\n      if (settings.theme_preference === 'system') {\n        effective = getSystemTheme();\n      } else {\n        effective = settings.theme_preference;\n      }\n      set({\n        themePreference: settings.theme_preference,\n        effectiveTheme: effective,\n        privacyAnalytics: settings.privacy_analytics,\n        privacyPersonalization: settings.privacy_personalization,\n        privacyNotifications: settings.privacy_notifications\n      });\n    },\n    getEffectiveTheme: () => {\n      const state = get();\n      if (state.themePreference === 'system') {\n        return getSystemTheme();\n      }\n      return state.themePreference;\n    },\n    setHydrated: hydrated => {\n      set({\n        isHydrated: hydrated\n      });\n    }\n  }), {\n    name: 'laf-settings',\n    storage: (0, _zustandMiddleware.createJSONStorage)(() => AsyncStorage.default),\n    partialize: state => ({\n      themePreference: state.themePreference,\n      privacyAnalytics: state.privacyAnalytics,\n      privacyPersonalization: state.privacyPersonalization,\n      privacyNotifications: state.privacyNotifications\n    }),\n    onRehydrateStorage: () => state => {\n      if (state) {\n        state.setHydrated(true);\n        // Update effective theme after rehydration\n        if (state.themePreference === 'system') {\n          state.effectiveTheme = getSystemTheme();\n        }\n      }\n    }\n  }));\n\n  // Safe listener for system theme changes\n  try {\n    Appearance.default.addChangeListener(({\n      colorScheme\n    }) => {\n      try {\n        const {\n          themePreference\n        } = useSettingsStore.getState();\n        if (themePreference === 'system') {\n          useSettingsStore.setState({\n            effectiveTheme: colorScheme || 'light'\n          });\n        }\n      } catch (e) {\n        // Ignore errors during store initialization\n      }\n    });\n  } catch (e) {\n    // Ignore if Appearance API is not available\n  }\n});","lineCount":141,"map":[[12,2,58,0,"Object"],[12,8,58,0],[12,9,58,0,"defineProperty"],[12,23,58,0],[12,24,58,0,"exports"],[12,31,58,0],[13,4,58,0,"enumerable"],[13,14,58,0],[14,4,58,0,"get"],[14,7,58,0],[14,18,58,0,"get"],[14,19,58,0],[15,6,58,0],[15,13,58,0,"useSettingsStore"],[15,29,58,0],[16,4,58,0],[17,2,58,0],[18,2,6,0],[18,6,6,0,"_zustand"],[18,14,6,0],[18,17,6,0,"require"],[18,24,6,0],[18,25,6,0,"_dependencyMap"],[18,39,6,0],[19,2,7,0],[19,6,7,0,"_zustandMiddleware"],[19,24,7,0],[19,27,7,0,"require"],[19,34,7,0],[19,35,7,0,"_dependencyMap"],[19,49,7,0],[20,2,8,0],[20,6,8,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,8,0],[20,45,8,0,"require"],[20,52,8,0],[20,53,8,0,"_dependencyMap"],[20,67,8,0],[21,2,8,0],[21,6,8,0,"AsyncStorage"],[21,18,8,0],[21,21,8,0,"_interopDefault"],[21,36,8,0],[21,37,8,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,8,0],[22,2,8,69],[22,6,8,69,"_reactNativeWebDistExportsAppearance"],[22,42,8,69],[22,45,8,69,"require"],[22,52,8,69],[22,53,8,69,"_dependencyMap"],[22,67,8,69],[23,2,8,69],[23,6,8,69,"Appearance"],[23,16,8,69],[23,19,8,69,"_interopDefault"],[23,34,8,69],[23,35,8,69,"_reactNativeWebDistExportsAppearance"],[23,71,8,69],[24,2,1,0],[25,0,2,0],[26,0,3,0],[27,0,4,0],[28,0,5,0],[30,2,50,0],[30,8,50,6,"getSystemTheme"],[30,22,50,20],[30,25,50,23,"getSystemTheme"],[30,26,50,23],[30,31,50,47],[31,4,51,2],[31,8,51,6],[32,6,52,4],[32,13,52,11,"Appearance"],[32,23,52,21],[32,24,52,21,"default"],[32,31,52,21],[32,32,52,22,"getColorScheme"],[32,46,52,36],[32,47,52,37],[32,48,52,38],[32,52,52,42],[32,59,52,49],[33,4,53,2],[33,5,53,3],[33,6,53,4],[33,12,53,10],[34,6,54,4],[34,13,54,11],[34,20,54,18],[35,4,55,2],[36,2,56,0],[36,3,56,1],[37,2,58,7],[37,8,58,13,"useSettingsStore"],[37,24,58,29],[37,27,58,32],[37,31,58,32,"create"],[37,39,58,38],[37,40,58,38,"create"],[37,46,58,38],[37,48,58,54],[37,49,58,55],[37,50,59,2],[37,54,59,2,"persist"],[37,72,59,9],[37,73,59,9,"persist"],[37,80,59,9],[37,82,60,4],[37,83,60,5,"set"],[37,86,60,8],[37,88,60,10,"get"],[37,91,60,13],[37,97,60,19],[38,4,61,6],[39,4,62,6,"themePreference"],[39,19,62,21],[39,21,62,23],[39,29,62,31],[40,4,63,6,"effectiveTheme"],[40,18,63,20],[40,20,63,22],[40,27,63,29],[41,4,64,6,"privacyAnalytics"],[41,20,64,22],[41,22,64,24],[41,26,64,28],[42,4,65,6,"privacyPersonalization"],[42,26,65,28],[42,28,65,30],[42,32,65,34],[43,4,66,6,"privacyNotifications"],[43,24,66,26],[43,26,66,28],[43,30,66,32],[44,4,67,6,"isLoading"],[44,13,67,15],[44,15,67,17],[44,20,67,22],[45,4,68,6,"isHydrated"],[45,14,68,16],[45,16,68,18],[45,21,68,23],[46,4,70,6,"setThemePreference"],[46,22,70,24],[46,24,70,27,"theme"],[46,29,70,49],[46,33,70,54],[47,6,71,8],[47,10,71,12,"effective"],[47,19,71,39],[48,6,72,8],[48,10,72,12,"theme"],[48,15,72,17],[48,20,72,22],[48,28,72,30],[48,30,72,32],[49,8,73,10,"effective"],[49,17,73,19],[49,20,73,22,"getSystemTheme"],[49,34,73,36],[49,35,73,37],[49,36,73,38],[50,6,74,8],[50,7,74,9],[50,13,74,15],[51,8,75,10,"effective"],[51,17,75,19],[51,20,75,22,"theme"],[51,25,75,27],[52,6,76,8],[53,6,77,8,"set"],[53,9,77,11],[53,10,77,12],[54,8,77,14,"themePreference"],[54,23,77,29],[54,25,77,31,"theme"],[54,30,77,36],[55,8,77,38,"effectiveTheme"],[55,22,77,52],[55,24,77,54,"effective"],[56,6,77,64],[56,7,77,65],[56,8,77,66],[57,4,78,6],[57,5,78,7],[58,4,80,6,"setPrivacyAnalytics"],[58,23,80,25],[58,25,80,28,"enabled"],[58,32,80,44],[58,36,80,49],[59,6,81,8,"set"],[59,9,81,11],[59,10,81,12],[60,8,81,14,"privacyAnalytics"],[60,24,81,30],[60,26,81,32,"enabled"],[61,6,81,40],[61,7,81,41],[61,8,81,42],[62,4,82,6],[62,5,82,7],[63,4,84,6,"setPrivacyPersonalization"],[63,29,84,31],[63,31,84,34,"enabled"],[63,38,84,50],[63,42,84,55],[64,6,85,8,"set"],[64,9,85,11],[64,10,85,12],[65,8,85,14,"privacyPersonalization"],[65,30,85,36],[65,32,85,38,"enabled"],[66,6,85,46],[66,7,85,47],[66,8,85,48],[67,4,86,6],[67,5,86,7],[68,4,88,6,"setPrivacyNotifications"],[68,27,88,29],[68,29,88,32,"enabled"],[68,36,88,48],[68,40,88,53],[69,6,89,8,"set"],[69,9,89,11],[69,10,89,12],[70,8,89,14,"privacyNotifications"],[70,28,89,34],[70,30,89,36,"enabled"],[71,6,89,44],[71,7,89,45],[71,8,89,46],[72,4,90,6],[72,5,90,7],[73,4,92,6,"loadSettings"],[73,16,92,18],[73,18,92,21,"settings"],[73,26,92,43],[73,30,92,48],[74,6,93,8],[74,10,93,12,"effective"],[74,19,93,39],[75,6,94,8],[75,10,94,12,"settings"],[75,18,94,20],[75,19,94,21,"theme_preference"],[75,35,94,37],[75,40,94,42],[75,48,94,50],[75,50,94,52],[76,8,95,10,"effective"],[76,17,95,19],[76,20,95,22,"getSystemTheme"],[76,34,95,36],[76,35,95,37],[76,36,95,38],[77,6,96,8],[77,7,96,9],[77,13,96,15],[78,8,97,10,"effective"],[78,17,97,19],[78,20,97,22,"settings"],[78,28,97,30],[78,29,97,31,"theme_preference"],[78,45,97,47],[79,6,98,8],[80,6,100,8,"set"],[80,9,100,11],[80,10,100,12],[81,8,101,10,"themePreference"],[81,23,101,25],[81,25,101,27,"settings"],[81,33,101,35],[81,34,101,36,"theme_preference"],[81,50,101,52],[82,8,102,10,"effectiveTheme"],[82,22,102,24],[82,24,102,26,"effective"],[82,33,102,35],[83,8,103,10,"privacyAnalytics"],[83,24,103,26],[83,26,103,28,"settings"],[83,34,103,36],[83,35,103,37,"privacy_analytics"],[83,52,103,54],[84,8,104,10,"privacyPersonalization"],[84,30,104,32],[84,32,104,34,"settings"],[84,40,104,42],[84,41,104,43,"privacy_personalization"],[84,64,104,66],[85,8,105,10,"privacyNotifications"],[85,28,105,30],[85,30,105,32,"settings"],[85,38,105,40],[85,39,105,41,"privacy_notifications"],[86,6,106,8],[86,7,106,9],[86,8,106,10],[87,4,107,6],[87,5,107,7],[88,4,109,6,"getEffectiveTheme"],[88,21,109,23],[88,23,109,25,"getEffectiveTheme"],[88,24,109,25],[88,29,109,31],[89,6,110,8],[89,12,110,14,"state"],[89,17,110,19],[89,20,110,22,"get"],[89,23,110,25],[89,24,110,26],[89,25,110,27],[90,6,111,8],[90,10,111,12,"state"],[90,15,111,17],[90,16,111,18,"themePreference"],[90,31,111,33],[90,36,111,38],[90,44,111,46],[90,46,111,48],[91,8,112,10],[91,15,112,17,"getSystemTheme"],[91,29,112,31],[91,30,112,32],[91,31,112,33],[92,6,113,8],[93,6,114,8],[93,13,114,15,"state"],[93,18,114,20],[93,19,114,21,"themePreference"],[93,34,114,36],[94,4,115,6],[94,5,115,7],[95,4,117,6,"setHydrated"],[95,15,117,17],[95,17,117,20,"hydrated"],[95,25,117,37],[95,29,117,42],[96,6,118,8,"set"],[96,9,118,11],[96,10,118,12],[97,8,118,14,"isHydrated"],[97,18,118,24],[97,20,118,26,"hydrated"],[98,6,118,35],[98,7,118,36],[98,8,118,37],[99,4,119,6],[100,2,120,4],[100,3,120,5],[100,4,120,6],[100,6,121,4],[101,4,122,6,"name"],[101,8,122,10],[101,10,122,12],[101,24,122,26],[102,4,123,6,"storage"],[102,11,123,13],[102,13,123,15],[102,17,123,15,"createJSONStorage"],[102,35,123,32],[102,36,123,32,"createJSONStorage"],[102,53,123,32],[102,55,123,33],[102,61,123,39,"AsyncStorage"],[102,73,123,51],[102,74,123,51,"default"],[102,81,123,51],[102,82,123,52],[103,4,124,6,"partialize"],[103,14,124,16],[103,16,124,19,"state"],[103,21,124,24],[103,26,124,30],[104,6,125,8,"themePreference"],[104,21,125,23],[104,23,125,25,"state"],[104,28,125,30],[104,29,125,31,"themePreference"],[104,44,125,46],[105,6,126,8,"privacyAnalytics"],[105,22,126,24],[105,24,126,26,"state"],[105,29,126,31],[105,30,126,32,"privacyAnalytics"],[105,46,126,48],[106,6,127,8,"privacyPersonalization"],[106,28,127,30],[106,30,127,32,"state"],[106,35,127,37],[106,36,127,38,"privacyPersonalization"],[106,58,127,60],[107,6,128,8,"privacyNotifications"],[107,26,128,28],[107,28,128,30,"state"],[107,33,128,35],[107,34,128,36,"privacyNotifications"],[108,4,129,6],[108,5,129,7],[108,6,129,8],[109,4,130,6,"onRehydrateStorage"],[109,22,130,24],[109,24,130,26,"onRehydrateStorage"],[109,25,130,26],[109,30,130,33,"state"],[109,35,130,38],[109,39,130,43],[110,6,131,8],[110,10,131,12,"state"],[110,15,131,17],[110,17,131,19],[111,8,132,10,"state"],[111,13,132,15],[111,14,132,16,"setHydrated"],[111,25,132,27],[111,26,132,28],[111,30,132,32],[111,31,132,33],[112,8,133,10],[113,8,134,10],[113,12,134,14,"state"],[113,17,134,19],[113,18,134,20,"themePreference"],[113,33,134,35],[113,38,134,40],[113,46,134,48],[113,48,134,50],[114,10,135,12,"state"],[114,15,135,17],[114,16,135,18,"effectiveTheme"],[114,30,135,32],[114,33,135,35,"getSystemTheme"],[114,47,135,49],[114,48,135,50],[114,49,135,51],[115,8,136,10],[116,6,137,8],[117,4,138,6],[118,2,139,4],[118,3,140,2],[118,4,141,0],[118,5,141,1],[120,2,143,0],[121,2,144,0],[121,6,144,4],[122,4,145,2,"Appearance"],[122,14,145,12],[122,15,145,12,"default"],[122,22,145,12],[122,23,145,13,"addChangeListener"],[122,40,145,30],[122,41,145,31],[122,42,145,32],[123,6,145,34,"colorScheme"],[124,4,145,46],[124,5,145,47],[124,10,145,52],[125,6,146,4],[125,10,146,8],[126,8,147,6],[126,14,147,12],[127,10,147,14,"themePreference"],[128,8,147,30],[128,9,147,31],[128,12,147,34,"useSettingsStore"],[128,28,147,50],[128,29,147,51,"getState"],[128,37,147,59],[128,38,147,60],[128,39,147,61],[129,8,148,6],[129,12,148,10,"themePreference"],[129,27,148,25],[129,32,148,30],[129,40,148,38],[129,42,148,40],[130,10,149,8,"useSettingsStore"],[130,26,149,24],[130,27,149,25,"setState"],[130,35,149,33],[130,36,149,34],[131,12,149,36,"effectiveTheme"],[131,26,149,50],[131,28,149,52,"colorScheme"],[131,39,149,63],[131,43,149,67],[132,10,149,75],[132,11,149,76],[132,12,149,77],[133,8,150,6],[134,6,151,4],[134,7,151,5],[134,8,151,6],[134,15,151,13,"e"],[134,16,151,14],[134,18,151,16],[135,8,152,6],[136,6,152,6],[137,4,154,2],[137,5,154,3],[137,6,154,4],[138,2,155,0],[138,3,155,1],[138,4,155,2],[138,11,155,9,"e"],[138,12,155,10],[138,14,155,12],[139,4,156,2],[140,2,156,2],[141,0,157,1],[141,3]],"functionMap":{"names":["<global>","getSystemTheme","persist$argument_0","setThemePreference","setPrivacyAnalytics","setPrivacyPersonalization","setPrivacyNotifications","loadSettings","getEffectiveTheme","setHydrated","createJSONStorage$argument_0","persist$argument_1.partialize","persist$argument_1.onRehydrateStorage","<anonymous>","Appearance.addChangeListener$argument_0"],"mappings":"AAA;uBCiD;CDM;IEI;0BCU;ODQ;2BEE;OFE;iCGE;OHE;+BIE;OJE;oBKE;OLe;yBME;ONM;mBOE;OPE;MFC;iCUG,kBV;kBWC;QXK;0BYC,MC;ObQ;+BcO;GdS"},"hasCjsExports":false},"type":"js/module"}]}