{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":110},"end":{"line":5,"column":33,"index":143}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":144},"end":{"line":6,"column":64,"index":208}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":209},"end":{"line":7,"column":69,"index":278}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _zustandMiddleware = require(_dependencyMap[1], \"zustand/middleware\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Auth Store - Gerenciamento de AutenticaÃ§Ã£o\n   * CRÃTICO: Controla estado de sessÃ£o e logout completo\n   */\n\n  // Lista COMPLETA de chaves a limpar no logout\n  const AUTH_STORAGE_KEYS = ['userId', 'user', 'userProfile', 'authToken', 'accessToken', 'refreshToken', 'hasCompletedOnboarding', 'dietPlan', 'workoutPlan', 'profileImage', 'notificationsEnabled', 'laf-settings', 'laf-auth', 'profile', 'settings', 'onboardingCompleted', 'dietData'];\n  const useAuthStore = (0, _zustand.create)()((0, _zustandMiddleware.persist)((set, get) => ({\n    isAuthenticated: false,\n    userId: null,\n    isLoading: false,\n    isHydrated: false,\n    setAuthenticated: (authenticated, userId) => {\n      set({\n        isAuthenticated: authenticated,\n        userId: userId !== undefined ? userId : get().userId\n      });\n    },\n    setUserId: userId => {\n      set({\n        userId,\n        isAuthenticated: !!userId\n      });\n    },\n    setHydrated: hydrated => {\n      set({\n        isHydrated: hydrated\n      });\n    },\n    /**\n     * LOGOUT COMPLETO\n     * Remove TODOS os dados de sessÃ£o\n     */\n    logout: async () => {\n      console.log('ðŸ” LOGOUT: Iniciando limpeza completa...');\n      try {\n        // 1. Reset estado Zustand IMEDIATAMENTE\n        set({\n          isAuthenticated: false,\n          userId: null,\n          isLoading: false\n        });\n        console.log('âœ… Estado Zustand resetado');\n\n        // 2. Remove chaves especÃ­ficas\n        await AsyncStorage.default.multiRemove(AUTH_STORAGE_KEYS);\n        console.log('âœ… Chaves de autenticaÃ§Ã£o removidas');\n\n        // 3. Remove TODAS as chaves (belt and suspenders)\n        const allKeys = await AsyncStorage.default.getAllKeys();\n        if (allKeys.length > 0) {\n          await AsyncStorage.default.multiRemove(allKeys);\n          console.log(`âœ… Todas as ${allKeys.length} chaves removidas`);\n        }\n\n        // 4. Confirma limpeza\n        const remainingKeys = await AsyncStorage.default.getAllKeys();\n        if (remainingKeys.length > 0) {\n          console.warn('âš ï¸ Chaves restantes apÃ³s logout:', remainingKeys);\n          // ForÃ§a remoÃ§Ã£o uma a uma\n          for (const key of remainingKeys) {\n            await AsyncStorage.default.removeItem(key);\n          }\n        }\n        console.log('ðŸ” LOGOUT: Completo!');\n      } catch (error) {\n        console.error('âŒ Erro no logout:', error);\n        // Mesmo com erro, garante estado resetado\n        set({\n          isAuthenticated: false,\n          userId: null\n        });\n        throw error;\n      }\n    },\n    /**\n     * VALIDAÃ‡ÃƒO DE SESSÃƒO\n     * Verifica se usuÃ¡rio ainda tem sessÃ£o vÃ¡lida\n     */\n    validateSession: async () => {\n      try {\n        const userId = await AsyncStorage.default.getItem('userId');\n        const hasCompleted = await AsyncStorage.default.getItem('hasCompletedOnboarding');\n        const isValid = !!(userId && hasCompleted === 'true');\n        set({\n          isAuthenticated: isValid,\n          userId: isValid ? userId : null\n        });\n        console.log('ðŸ” SessÃ£o validada:', {\n          isValid,\n          userId: isValid ? userId : null\n        });\n        return isValid;\n      } catch (error) {\n        console.error('âŒ Erro ao validar sessÃ£o:', error);\n        // Se erro, considera nÃ£o autenticado\n        set({\n          isAuthenticated: false,\n          userId: null\n        });\n        return false;\n      }\n    }\n  }), {\n    name: 'laf-auth',\n    storage: (0, _zustandMiddleware.createJSONStorage)(() => AsyncStorage.default),\n    partialize: state => ({\n      isAuthenticated: state.isAuthenticated,\n      userId: state.userId\n    }),\n    onRehydrateStorage: () => state => {\n      if (state) {\n        state.setHydrated(true);\n      }\n    }\n  }));\n});","lineCount":138,"map":[[12,2,45,0,"Object"],[12,8,45,0],[12,9,45,0,"defineProperty"],[12,23,45,0],[12,24,45,0,"exports"],[12,31,45,0],[13,4,45,0,"enumerable"],[13,14,45,0],[14,4,45,0,"get"],[14,7,45,0],[14,18,45,0,"get"],[14,19,45,0],[15,6,45,0],[15,13,45,0,"useAuthStore"],[15,25,45,0],[16,4,45,0],[17,2,45,0],[18,2,5,0],[18,6,5,0,"_zustand"],[18,14,5,0],[18,17,5,0,"require"],[18,24,5,0],[18,25,5,0,"_dependencyMap"],[18,39,5,0],[19,2,6,0],[19,6,6,0,"_zustandMiddleware"],[19,24,6,0],[19,27,6,0,"require"],[19,34,6,0],[19,35,6,0,"_dependencyMap"],[19,49,6,0],[20,2,7,0],[20,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,7,0],[20,45,7,0,"require"],[20,52,7,0],[20,53,7,0,"_dependencyMap"],[20,67,7,0],[21,2,7,0],[21,6,7,0,"AsyncStorage"],[21,18,7,0],[21,21,7,0,"_interopDefault"],[21,36,7,0],[21,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,7,0],[22,2,1,0],[23,0,2,0],[24,0,3,0],[25,0,4,0],[27,2,9,0],[28,2,10,0],[28,8,10,6,"AUTH_STORAGE_KEYS"],[28,25,10,23],[28,28,10,26],[28,29,11,2],[28,37,11,10],[28,39,12,2],[28,45,12,8],[28,47,13,2],[28,60,13,15],[28,62,14,2],[28,73,14,13],[28,75,15,2],[28,88,15,15],[28,90,16,2],[28,104,16,16],[28,106,17,2],[28,130,17,26],[28,132,18,2],[28,142,18,12],[28,144,19,2],[28,157,19,15],[28,159,20,2],[28,173,20,16],[28,175,21,2],[28,197,21,24],[28,199,22,2],[28,213,22,16],[28,215,23,2],[28,225,23,12],[28,227,24,2],[28,236,24,11],[28,238,25,2],[28,248,25,12],[28,250,26,2],[28,271,26,23],[28,273,27,2],[28,283,27,12],[28,284,28,1],[29,2,45,7],[29,8,45,13,"useAuthStore"],[29,20,45,25],[29,23,45,28],[29,27,45,28,"create"],[29,35,45,34],[29,36,45,34,"create"],[29,42,45,34],[29,44,45,46],[29,45,45,47],[29,46,46,2],[29,50,46,2,"persist"],[29,68,46,9],[29,69,46,9,"persist"],[29,76,46,9],[29,78,47,4],[29,79,47,5,"set"],[29,82,47,8],[29,84,47,10,"get"],[29,87,47,13],[29,93,47,19],[30,4,48,6,"isAuthenticated"],[30,19,48,21],[30,21,48,23],[30,26,48,28],[31,4,49,6,"userId"],[31,10,49,12],[31,12,49,14],[31,16,49,18],[32,4,50,6,"isLoading"],[32,13,50,15],[32,15,50,17],[32,20,50,22],[33,4,51,6,"isHydrated"],[33,14,51,16],[33,16,51,18],[33,21,51,23],[34,4,53,6,"setAuthenticated"],[34,20,53,22],[34,22,53,24,"setAuthenticated"],[34,23,53,25,"authenticated"],[34,36,53,47],[34,38,53,49,"userId"],[34,44,53,71],[34,49,53,76],[35,6,54,8,"set"],[35,9,54,11],[35,10,54,12],[36,8,55,10,"isAuthenticated"],[36,23,55,25],[36,25,55,27,"authenticated"],[36,38,55,40],[37,8,56,10,"userId"],[37,14,56,16],[37,16,56,18,"userId"],[37,22,56,24],[37,27,56,29,"undefined"],[37,36,56,38],[37,39,56,41,"userId"],[37,45,56,47],[37,48,56,50,"get"],[37,51,56,53],[37,52,56,54],[37,53,56,55],[37,54,56,56,"userId"],[38,6,57,8],[38,7,57,9],[38,8,57,10],[39,4,58,6],[39,5,58,7],[40,4,60,6,"setUserId"],[40,13,60,15],[40,15,60,18,"userId"],[40,21,60,39],[40,25,60,44],[41,6,61,8,"set"],[41,9,61,11],[41,10,61,12],[42,8,61,14,"userId"],[42,14,61,20],[43,8,61,22,"isAuthenticated"],[43,23,61,37],[43,25,61,39],[43,26,61,40],[43,27,61,41,"userId"],[44,6,61,48],[44,7,61,49],[44,8,61,50],[45,4,62,6],[45,5,62,7],[46,4,64,6,"setHydrated"],[46,15,64,17],[46,17,64,20,"hydrated"],[46,25,64,37],[46,29,64,42],[47,6,65,8,"set"],[47,9,65,11],[47,10,65,12],[48,8,65,14,"isHydrated"],[48,18,65,24],[48,20,65,26,"hydrated"],[49,6,65,35],[49,7,65,36],[49,8,65,37],[50,4,66,6],[50,5,66,7],[51,4,68,6],[52,0,69,0],[53,0,70,0],[54,0,71,0],[55,4,72,6,"logout"],[55,10,72,12],[55,12,72,14],[55,18,72,14,"logout"],[55,19,72,14],[55,24,72,26],[56,6,73,8,"console"],[56,13,73,15],[56,14,73,16,"log"],[56,17,73,19],[56,18,73,20],[56,60,73,62],[56,61,73,63],[57,6,75,8],[57,10,75,12],[58,8,76,10],[59,8,77,10,"set"],[59,11,77,13],[59,12,77,14],[60,10,78,12,"isAuthenticated"],[60,25,78,27],[60,27,78,29],[60,32,78,34],[61,10,79,12,"userId"],[61,16,79,18],[61,18,79,20],[61,22,79,24],[62,10,80,12,"isLoading"],[62,19,80,21],[62,21,80,23],[63,8,81,10],[63,9,81,11],[63,10,81,12],[64,8,82,10,"console"],[64,15,82,17],[64,16,82,18,"log"],[64,19,82,21],[64,20,82,22],[64,47,82,49],[64,48,82,50],[66,8,84,10],[67,8,85,10],[67,14,85,16,"AsyncStorage"],[67,26,85,28],[67,27,85,28,"default"],[67,34,85,28],[67,35,85,29,"multiRemove"],[67,46,85,40],[67,47,85,41,"AUTH_STORAGE_KEYS"],[67,64,85,58],[67,65,85,59],[68,8,86,10,"console"],[68,15,86,17],[68,16,86,18,"log"],[68,19,86,21],[68,20,86,22],[68,56,86,58],[68,57,86,59],[70,8,88,10],[71,8,89,10],[71,14,89,16,"allKeys"],[71,21,89,23],[71,24,89,26],[71,30,89,32,"AsyncStorage"],[71,42,89,44],[71,43,89,44,"default"],[71,50,89,44],[71,51,89,45,"getAllKeys"],[71,61,89,55],[71,62,89,56],[71,63,89,57],[72,8,90,10],[72,12,90,14,"allKeys"],[72,19,90,21],[72,20,90,22,"length"],[72,26,90,28],[72,29,90,31],[72,30,90,32],[72,32,90,34],[73,10,91,12],[73,16,91,18,"AsyncStorage"],[73,28,91,30],[73,29,91,30,"default"],[73,36,91,30],[73,37,91,31,"multiRemove"],[73,48,91,42],[73,49,91,43,"allKeys"],[73,56,91,50],[73,57,91,51],[74,10,92,12,"console"],[74,17,92,19],[74,18,92,20,"log"],[74,21,92,23],[74,22,92,24],[74,36,92,38,"allKeys"],[74,43,92,45],[74,44,92,46,"length"],[74,50,92,52],[74,69,92,71],[74,70,92,72],[75,8,93,10],[77,8,95,10],[78,8,96,10],[78,14,96,16,"remainingKeys"],[78,27,96,29],[78,30,96,32],[78,36,96,38,"AsyncStorage"],[78,48,96,50],[78,49,96,50,"default"],[78,56,96,50],[78,57,96,51,"getAllKeys"],[78,67,96,61],[78,68,96,62],[78,69,96,63],[79,8,97,10],[79,12,97,14,"remainingKeys"],[79,25,97,27],[79,26,97,28,"length"],[79,32,97,34],[79,35,97,37],[79,36,97,38],[79,38,97,40],[80,10,98,12,"console"],[80,17,98,19],[80,18,98,20,"warn"],[80,22,98,24],[80,23,98,25],[80,57,98,59],[80,59,98,61,"remainingKeys"],[80,72,98,74],[80,73,98,75],[81,10,99,12],[82,10,100,12],[82,15,100,17],[82,21,100,23,"key"],[82,24,100,26],[82,28,100,30,"remainingKeys"],[82,41,100,43],[82,43,100,45],[83,12,101,14],[83,18,101,20,"AsyncStorage"],[83,30,101,32],[83,31,101,32,"default"],[83,38,101,32],[83,39,101,33,"removeItem"],[83,49,101,43],[83,50,101,44,"key"],[83,53,101,47],[83,54,101,48],[84,10,102,12],[85,8,103,10],[86,8,105,10,"console"],[86,15,105,17],[86,16,105,18,"log"],[86,19,105,21],[86,20,105,22],[86,42,105,44],[86,43,105,45],[87,6,106,8],[87,7,106,9],[87,8,106,10],[87,15,106,17,"error"],[87,20,106,22],[87,22,106,24],[88,8,107,10,"console"],[88,15,107,17],[88,16,107,18,"error"],[88,21,107,23],[88,22,107,24],[88,41,107,43],[88,43,107,45,"error"],[88,48,107,50],[88,49,107,51],[89,8,108,10],[90,8,109,10,"set"],[90,11,109,13],[90,12,109,14],[91,10,110,12,"isAuthenticated"],[91,25,110,27],[91,27,110,29],[91,32,110,34],[92,10,111,12,"userId"],[92,16,111,18],[92,18,111,20],[93,8,112,10],[93,9,112,11],[93,10,112,12],[94,8,113,10],[94,14,113,16,"error"],[94,19,113,21],[95,6,114,8],[96,4,115,6],[96,5,115,7],[97,4,117,6],[98,0,118,0],[99,0,119,0],[100,0,120,0],[101,4,121,6,"validateSession"],[101,19,121,21],[101,21,121,23],[101,27,121,23,"validateSession"],[101,28,121,23],[101,33,121,35],[102,6,122,8],[102,10,122,12],[103,8,123,10],[103,14,123,16,"userId"],[103,20,123,22],[103,23,123,25],[103,29,123,31,"AsyncStorage"],[103,41,123,43],[103,42,123,43,"default"],[103,49,123,43],[103,50,123,44,"getItem"],[103,57,123,51],[103,58,123,52],[103,66,123,60],[103,67,123,61],[104,8,124,10],[104,14,124,16,"hasCompleted"],[104,26,124,28],[104,29,124,31],[104,35,124,37,"AsyncStorage"],[104,47,124,49],[104,48,124,49,"default"],[104,55,124,49],[104,56,124,50,"getItem"],[104,63,124,57],[104,64,124,58],[104,88,124,82],[104,89,124,83],[105,8,126,10],[105,14,126,16,"isValid"],[105,21,126,23],[105,24,126,26],[105,25,126,27],[105,27,126,29,"userId"],[105,33,126,35],[105,37,126,39,"hasCompleted"],[105,49,126,51],[105,54,126,56],[105,60,126,62],[105,61,126,63],[106,8,128,10,"set"],[106,11,128,13],[106,12,128,14],[107,10,129,12,"isAuthenticated"],[107,25,129,27],[107,27,129,29,"isValid"],[107,34,129,36],[108,10,130,12,"userId"],[108,16,130,18],[108,18,130,20,"isValid"],[108,25,130,27],[108,28,130,30,"userId"],[108,34,130,36],[108,37,130,39],[109,8,131,10],[109,9,131,11],[109,10,131,12],[110,8,133,10,"console"],[110,15,133,17],[110,16,133,18,"log"],[110,19,133,21],[110,20,133,22],[110,41,133,43],[110,43,133,45],[111,10,133,47,"isValid"],[111,17,133,54],[112,10,133,56,"userId"],[112,16,133,62],[112,18,133,64,"isValid"],[112,25,133,71],[112,28,133,74,"userId"],[112,34,133,80],[112,37,133,83],[113,8,133,88],[113,9,133,89],[113,10,133,90],[114,8,135,10],[114,15,135,17,"isValid"],[114,22,135,24],[115,6,136,8],[115,7,136,9],[115,8,136,10],[115,15,136,17,"error"],[115,20,136,22],[115,22,136,24],[116,8,137,10,"console"],[116,15,137,17],[116,16,137,18,"error"],[116,21,137,23],[116,22,137,24],[116,49,137,51],[116,51,137,53,"error"],[116,56,137,58],[116,57,137,59],[117,8,138,10],[118,8,139,10,"set"],[118,11,139,13],[118,12,139,14],[119,10,140,12,"isAuthenticated"],[119,25,140,27],[119,27,140,29],[119,32,140,34],[120,10,141,12,"userId"],[120,16,141,18],[120,18,141,20],[121,8,142,10],[121,9,142,11],[121,10,142,12],[122,8,143,10],[122,15,143,17],[122,20,143,22],[123,6,144,8],[124,4,145,6],[125,2,146,4],[125,3,146,5],[125,4,146,6],[125,6,147,4],[126,4,148,6,"name"],[126,8,148,10],[126,10,148,12],[126,20,148,22],[127,4,149,6,"storage"],[127,11,149,13],[127,13,149,15],[127,17,149,15,"createJSONStorage"],[127,35,149,32],[127,36,149,32,"createJSONStorage"],[127,53,149,32],[127,55,149,33],[127,61,149,39,"AsyncStorage"],[127,73,149,51],[127,74,149,51,"default"],[127,81,149,51],[127,82,149,52],[128,4,150,6,"partialize"],[128,14,150,16],[128,16,150,19,"state"],[128,21,150,24],[128,26,150,30],[129,6,151,8,"isAuthenticated"],[129,21,151,23],[129,23,151,25,"state"],[129,28,151,30],[129,29,151,31,"isAuthenticated"],[129,44,151,46],[130,6,152,8,"userId"],[130,12,152,14],[130,14,152,16,"state"],[130,19,152,21],[130,20,152,22,"userId"],[131,4,153,6],[131,5,153,7],[131,6,153,8],[132,4,154,6,"onRehydrateStorage"],[132,22,154,24],[132,24,154,26,"onRehydrateStorage"],[132,25,154,26],[132,30,154,33,"state"],[132,35,154,38],[132,39,154,43],[133,6,155,8],[133,10,155,12,"state"],[133,15,155,17],[133,17,155,19],[134,8,156,10,"state"],[134,13,156,15],[134,14,156,16,"setHydrated"],[134,25,156,27],[134,26,156,28],[134,30,156,32],[134,31,156,33],[135,6,157,8],[136,4,158,6],[137,2,159,4],[137,3,160,2],[137,4,161,0],[137,5,161,1],[138,0,161,2],[138,3]],"functionMap":{"names":["<global>","persist$argument_0","setAuthenticated","setUserId","setHydrated","logout","validateSession","createJSONStorage$argument_0","persist$argument_1.partialize","persist$argument_1.onRehydrateStorage","<anonymous>"],"mappings":"AAA;IC8C;wBCM;ODK;iBEE;OFE;mBGE;OHE;cIM;OJ2C;uBKM;OLwB;MDC;iCOG,kBP;kBQC;QRG;0BSC,MC;OVI"},"hasCjsExports":false},"type":"js/module"}]}