{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":109},"end":{"line":5,"column":33,"index":142}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":143},"end":{"line":6,"column":69,"index":212}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Auth Store - SINGLE SOURCE OF TRUTH\n   * Controla: isAuthenticated, userId, token, profileCompleted\n   */\n\n  const useAuthStore = (0, _zustand.create)(set => ({\n    isAuthenticated: false,\n    userId: null,\n    token: null,\n    profileCompleted: false,\n    isInitialized: false,\n    initialize: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const userId = await AsyncStorage.default.getItem('userId');\n        const profileCompleted = await AsyncStorage.default.getItem('profileCompleted');\n        if (token && userId) {\n          set({\n            isAuthenticated: true,\n            userId,\n            token,\n            profileCompleted: profileCompleted === 'true',\n            isInitialized: true\n          });\n        } else {\n          set({\n            isAuthenticated: false,\n            userId: null,\n            token: null,\n            profileCompleted: false,\n            isInitialized: true\n          });\n        }\n      } catch (error) {\n        set({\n          isAuthenticated: false,\n          userId: null,\n          token: null,\n          profileCompleted: false,\n          isInitialized: true\n        });\n      }\n    },\n    login: async (userId, token, profileCompleted) => {\n      // IMPORTANTE: Limpar cache de perfil antigo antes de salvar novo login\n      // Isso evita que dados de outro usuário ou dados desatualizados apareçam\n      await AsyncStorage.default.removeItem('userProfile');\n      await AsyncStorage.default.setItem('token', token);\n      await AsyncStorage.default.setItem('userId', userId);\n      await AsyncStorage.default.setItem('profileCompleted', profileCompleted ? 'true' : 'false');\n      set({\n        isAuthenticated: true,\n        userId,\n        token,\n        profileCompleted\n      });\n    },\n    setProfileCompleted: async completed => {\n      await AsyncStorage.default.setItem('profileCompleted', completed ? 'true' : 'false');\n      set({\n        profileCompleted: completed\n      });\n    },\n    logout: async () => {\n      // Limpa AsyncStorage PRIMEIRO\n      try {\n        await AsyncStorage.default.clear();\n      } catch (error) {\n        console.error('Error clearing AsyncStorage:', error);\n      }\n      // Depois atualiza o estado\n      set({\n        isAuthenticated: false,\n        userId: null,\n        token: null,\n        profileCompleted: false,\n        isInitialized: true\n      });\n    }\n  }));\n});","lineCount":101,"map":[[12,2,21,0,"Object"],[12,8,21,0],[12,9,21,0,"defineProperty"],[12,23,21,0],[12,24,21,0,"exports"],[12,31,21,0],[13,4,21,0,"enumerable"],[13,14,21,0],[14,4,21,0,"get"],[14,7,21,0],[14,18,21,0,"get"],[14,19,21,0],[15,6,21,0],[15,13,21,0,"useAuthStore"],[15,25,21,0],[16,4,21,0],[17,2,21,0],[18,2,5,0],[18,6,5,0,"_zustand"],[18,14,5,0],[18,17,5,0,"require"],[18,24,5,0],[18,25,5,0,"_dependencyMap"],[18,39,5,0],[19,2,6,0],[19,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,6,0],[19,45,6,0,"require"],[19,52,6,0],[19,53,6,0,"_dependencyMap"],[19,67,6,0],[20,2,6,0],[20,6,6,0,"AsyncStorage"],[20,18,6,0],[20,21,6,0,"_interopDefault"],[20,36,6,0],[20,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,6,0],[21,2,1,0],[22,0,2,0],[23,0,3,0],[24,0,4,0],[26,2,21,7],[26,8,21,13,"useAuthStore"],[26,20,21,25],[26,23,21,28],[26,27,21,28,"create"],[26,35,21,34],[26,36,21,34,"create"],[26,42,21,34],[26,44,21,47,"set"],[26,47,21,50],[26,52,21,56],[27,4,22,2,"isAuthenticated"],[27,19,22,17],[27,21,22,19],[27,26,22,24],[28,4,23,2,"userId"],[28,10,23,8],[28,12,23,10],[28,16,23,14],[29,4,24,2,"token"],[29,9,24,7],[29,11,24,9],[29,15,24,13],[30,4,25,2,"profileCompleted"],[30,20,25,18],[30,22,25,20],[30,27,25,25],[31,4,26,2,"isInitialized"],[31,17,26,15],[31,19,26,17],[31,24,26,22],[32,4,28,2,"initialize"],[32,14,28,12],[32,16,28,14],[32,22,28,14,"initialize"],[32,23,28,14],[32,28,28,26],[33,6,29,4],[33,10,29,8],[34,8,30,6],[34,14,30,12,"token"],[34,19,30,17],[34,22,30,20],[34,28,30,26,"AsyncStorage"],[34,40,30,38],[34,41,30,38,"default"],[34,48,30,38],[34,49,30,39,"getItem"],[34,56,30,46],[34,57,30,47],[34,64,30,54],[34,65,30,55],[35,8,31,6],[35,14,31,12,"userId"],[35,20,31,18],[35,23,31,21],[35,29,31,27,"AsyncStorage"],[35,41,31,39],[35,42,31,39,"default"],[35,49,31,39],[35,50,31,40,"getItem"],[35,57,31,47],[35,58,31,48],[35,66,31,56],[35,67,31,57],[36,8,32,6],[36,14,32,12,"profileCompleted"],[36,30,32,28],[36,33,32,31],[36,39,32,37,"AsyncStorage"],[36,51,32,49],[36,52,32,49,"default"],[36,59,32,49],[36,60,32,50,"getItem"],[36,67,32,57],[36,68,32,58],[36,86,32,76],[36,87,32,77],[37,8,34,6],[37,12,34,10,"token"],[37,17,34,15],[37,21,34,19,"userId"],[37,27,34,25],[37,29,34,27],[38,10,35,8,"set"],[38,13,35,11],[38,14,35,12],[39,12,36,10,"isAuthenticated"],[39,27,36,25],[39,29,36,27],[39,33,36,31],[40,12,37,10,"userId"],[40,18,37,16],[41,12,38,10,"token"],[41,17,38,15],[42,12,39,10,"profileCompleted"],[42,28,39,26],[42,30,39,28,"profileCompleted"],[42,46,39,44],[42,51,39,49],[42,57,39,55],[43,12,40,10,"isInitialized"],[43,25,40,23],[43,27,40,25],[44,10,41,8],[44,11,41,9],[44,12,41,10],[45,8,42,6],[45,9,42,7],[45,15,42,13],[46,10,43,8,"set"],[46,13,43,11],[46,14,43,12],[47,12,44,10,"isAuthenticated"],[47,27,44,25],[47,29,44,27],[47,34,44,32],[48,12,45,10,"userId"],[48,18,45,16],[48,20,45,18],[48,24,45,22],[49,12,46,10,"token"],[49,17,46,15],[49,19,46,17],[49,23,46,21],[50,12,47,10,"profileCompleted"],[50,28,47,26],[50,30,47,28],[50,35,47,33],[51,12,48,10,"isInitialized"],[51,25,48,23],[51,27,48,25],[52,10,49,8],[52,11,49,9],[52,12,49,10],[53,8,50,6],[54,6,51,4],[54,7,51,5],[54,8,51,6],[54,15,51,13,"error"],[54,20,51,18],[54,22,51,20],[55,8,52,6,"set"],[55,11,52,9],[55,12,52,10],[56,10,52,12,"isAuthenticated"],[56,25,52,27],[56,27,52,29],[56,32,52,34],[57,10,52,36,"userId"],[57,16,52,42],[57,18,52,44],[57,22,52,48],[58,10,52,50,"token"],[58,15,52,55],[58,17,52,57],[58,21,52,61],[59,10,52,63,"profileCompleted"],[59,26,52,79],[59,28,52,81],[59,33,52,86],[60,10,52,88,"isInitialized"],[60,23,52,101],[60,25,52,103],[61,8,52,108],[61,9,52,109],[61,10,52,110],[62,6,53,4],[63,4,54,2],[63,5,54,3],[64,4,56,2,"login"],[64,9,56,7],[64,11,56,9],[64,17,56,9,"login"],[64,18,56,16,"userId"],[64,24,56,30],[64,26,56,32,"token"],[64,31,56,45],[64,33,56,47,"profileCompleted"],[64,49,56,72],[64,54,56,77],[65,6,57,4],[66,6,58,4],[67,6,59,4],[67,12,59,10,"AsyncStorage"],[67,24,59,22],[67,25,59,22,"default"],[67,32,59,22],[67,33,59,23,"removeItem"],[67,43,59,33],[67,44,59,34],[67,57,59,47],[67,58,59,48],[68,6,61,4],[68,12,61,10,"AsyncStorage"],[68,24,61,22],[68,25,61,22,"default"],[68,32,61,22],[68,33,61,23,"setItem"],[68,40,61,30],[68,41,61,31],[68,48,61,38],[68,50,61,40,"token"],[68,55,61,45],[68,56,61,46],[69,6,62,4],[69,12,62,10,"AsyncStorage"],[69,24,62,22],[69,25,62,22,"default"],[69,32,62,22],[69,33,62,23,"setItem"],[69,40,62,30],[69,41,62,31],[69,49,62,39],[69,51,62,41,"userId"],[69,57,62,47],[69,58,62,48],[70,6,63,4],[70,12,63,10,"AsyncStorage"],[70,24,63,22],[70,25,63,22,"default"],[70,32,63,22],[70,33,63,23,"setItem"],[70,40,63,30],[70,41,63,31],[70,59,63,49],[70,61,63,51,"profileCompleted"],[70,77,63,67],[70,80,63,70],[70,86,63,76],[70,89,63,79],[70,96,63,86],[70,97,63,87],[71,6,64,4,"set"],[71,9,64,7],[71,10,64,8],[72,8,64,10,"isAuthenticated"],[72,23,64,25],[72,25,64,27],[72,29,64,31],[73,8,64,33,"userId"],[73,14,64,39],[74,8,64,41,"token"],[74,13,64,46],[75,8,64,48,"profileCompleted"],[76,6,64,65],[76,7,64,66],[76,8,64,67],[77,4,65,2],[77,5,65,3],[78,4,67,2,"setProfileCompleted"],[78,23,67,21],[78,25,67,23],[78,31,67,30,"completed"],[78,40,67,48],[78,44,67,53],[79,6,68,4],[79,12,68,10,"AsyncStorage"],[79,24,68,22],[79,25,68,22,"default"],[79,32,68,22],[79,33,68,23,"setItem"],[79,40,68,30],[79,41,68,31],[79,59,68,49],[79,61,68,51,"completed"],[79,70,68,60],[79,73,68,63],[79,79,68,69],[79,82,68,72],[79,89,68,79],[79,90,68,80],[80,6,69,4,"set"],[80,9,69,7],[80,10,69,8],[81,8,69,10,"profileCompleted"],[81,24,69,26],[81,26,69,28,"completed"],[82,6,69,38],[82,7,69,39],[82,8,69,40],[83,4,70,2],[83,5,70,3],[84,4,72,2,"logout"],[84,10,72,8],[84,12,72,10],[84,18,72,10,"logout"],[84,19,72,10],[84,24,72,22],[85,6,73,4],[86,6,74,4],[86,10,74,8],[87,8,75,6],[87,14,75,12,"AsyncStorage"],[87,26,75,24],[87,27,75,24,"default"],[87,34,75,24],[87,35,75,25,"clear"],[87,40,75,30],[87,41,75,31],[87,42,75,32],[88,6,76,4],[88,7,76,5],[88,8,76,6],[88,15,76,13,"error"],[88,20,76,18],[88,22,76,20],[89,8,77,6,"console"],[89,15,77,13],[89,16,77,14,"error"],[89,21,77,19],[89,22,77,20],[89,52,77,50],[89,54,77,52,"error"],[89,59,77,57],[89,60,77,58],[90,6,78,4],[91,6,79,4],[92,6,80,4,"set"],[92,9,80,7],[92,10,80,8],[93,8,80,10,"isAuthenticated"],[93,23,80,25],[93,25,80,27],[93,30,80,32],[94,8,80,34,"userId"],[94,14,80,40],[94,16,80,42],[94,20,80,46],[95,8,80,48,"token"],[95,13,80,53],[95,15,80,55],[95,19,80,59],[96,8,80,61,"profileCompleted"],[96,24,80,77],[96,26,80,79],[96,31,80,84],[97,8,80,86,"isInitialized"],[97,21,80,99],[97,23,80,101],[98,6,80,106],[98,7,80,107],[98,8,80,108],[99,4,81,2],[100,2,82,0],[100,3,82,1],[100,4,82,2],[100,5,82,3],[101,0,82,4],[101,3]],"functionMap":{"names":["<global>","create$argument_0","initialize","login","setProfileCompleted","logout"],"mappings":"AAA;8CCoB;cCO;GD0B;SEE;GFS;uBGE;GHG;UIE;GJS;EDC"},"hasCjsExports":false},"type":"js/module"}]}